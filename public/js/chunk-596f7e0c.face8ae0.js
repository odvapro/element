(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-596f7e0c"],{"06a8":function(t,e,s){"use strict";s("d795")},"093d":function(t,e,s){},"0b95":function(t,e,s){"use strict";s("9863")},"1f35":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-popup-row-params"},[e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("Use Mask")]),e("div",{staticClass:"popup__field-input"},[e("Checkbox",{attrs:{checked:t.localSettings.useMask},on:{"update:checked":function(e){return t.$set(t.localSettings,"useMask",e)}}})],1)]),t.localSettings.useMask?e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("Mask (use #)")]),e("div",{staticClass:"popup__field-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.localSettings.mask,expression:"localSettings.mask"}],staticClass:"el-inp-noborder",attrs:{placeholder:"Enter mask value",type:"text"},domProps:{value:t.localSettings.mask},on:{input:function(e){e.target.composing||t.$set(t.localSettings,"mask",e.target.value)}}})])]):t._e(),e("div",{staticClass:"popup__buttons"},[e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),e("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])])},n=[],a={props:["settings"],data:function(){return{localSettings:{useMask:!1,mask:""},errors:{}}},methods:{cancel:function(){this.$emit("cancel")},save:function(){this.$emit("save",this.localSettings)}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&("false"===this.settings[t]||"true"===this.settings[t]?this.$set(this.localSettings,t,"true"===this.settings[t]):this.$set(this.localSettings,t,this.settings[t]))}},r=a,o=s("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);e["default"]=l.exports},2151:function(t,e,s){},"276e":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-popup-row-params"},[e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v(t._s(t.$t("fieldEmDate.settings.include_time")))]),e("div",{staticClass:"popup__field-input"},[e("Checkbox",{attrs:{checked:t.localSettings.includeTime},on:{"update:checked":function(e){return t.$set(t.localSettings,"includeTime",e)}}})],1)]),e("div",{staticClass:"popup__buttons"},[e("button",{staticClass:"el-gbtn",on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),e("button",{staticClass:"el-btn",on:{click:t.save}},[t._v(t._s(t.$t("save_settings")))])])])},n=[],a={props:["settings"],data:function(){return{localSettings:{includeTime:!1}}},mounted:function(){"undefined"!=typeof this.settings.includeTime&&(this.localSettings.includeTime="true"===this.settings.includeTime)},methods:{save:function(){this.$emit("save",this.localSettings)},cancel:function(){this.$emit("cancel")}}},r=a,o=s("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);e["default"]=l.exports},"27a7":function(t,e,s){"use strict";s("093d")},3112:function(t,e,s){"use strict";s("3a8a")},"32ea":function(t,e,s){},"3a8a":function(t,e,s){},4149:function(t,e,s){"use strict";s("6a4a")},"47f5":function(t,e,s){var i={"./em_check/Settings.vue":"85b8","./em_date/Settings.vue":"276e","./em_file/Settings.vue":"dee1","./em_int/Settings.vue":"efd5","./em_list/Settings.vue":"bf74","./em_matrix/Settings.vue":"93a7","./em_node/Settings.vue":"8c2f","./em_string/Settings.vue":"1f35"};function n(t){return Promise.resolve().then((function(){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}var n=i[t];return s(n)}))}n.keys=function(){return Object.keys(i)},n.id="47f5",t.exports=n},"4b14":function(t,e,s){"use strict";s("972b")},5579:function(t,e,s){"use strict";s("f7dd")},"627e":function(t,e,s){"use strict";s("2151")},"6a4a":function(t,e,s){},"725f":function(t,e,s){},"7b0a":function(t,e,s){"use strict";s("725f")},"80bf":function(t,e,s){},"85b8":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-popup-row-params"},[e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmCheck.settings.checked_status_in_db"))+"\n\t\t")]),e("div",{staticClass:"popup__field-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedString,expression:"checkedString"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("fieldEmCheck.settings.enter_checked_string")},domProps:{value:t.checkedString},on:{input:function(e){e.target.composing||(t.checkedString=e.target.value)}}})])]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmCheck.settings.unchecked_status_in_db"))+"\n\t\t")]),e("div",{staticClass:"popup__field-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.uncheckedString,expression:"uncheckedString"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("fieldEmCheck.settings.enter_unchecked_string")},domProps:{value:t.uncheckedString},on:{input:function(e){e.target.composing||(t.uncheckedString=e.target.value)}}})])]),e("div",{staticClass:"popup__buttons"},[e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),e("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])])},n=[],a={props:["settings"],data:function(){return{checkedString:"1",uncheckedString:"0"}},methods:{cancel:function(){this.$emit("cancel")},save:function(){var t={checkedString:this.checkedString,uncheckedString:this.uncheckedString};this.$emit("save",t)}},mounted:function(){"undefined"!=typeof this.settings.checkedString&&(this.checkedString=this.settings.checkedString),"undefined"!=typeof this.settings.uncheckedString&&(this.uncheckedString=this.settings.uncheckedString)}},r=a,o=s("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);e["default"]=l.exports},"85d7":function(t,e,s){"use strict";s("f9d4")},"869a":function(t,e,s){"use strict";s("80bf")},"8c2f":function(t,e,s){"use strict";s.r(e);s("7f7f");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-popup-row-params"},[e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("Multiple")]),e("div",{staticClass:"popup__field-input"},[e("Checkbox",{attrs:{checked:t.localSettings.multiple},on:{"update:checked":function(e){return t.$set(t.localSettings,"multiple",e)}}})],1)]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("table"))+"\n\t\t\t"),t.errors.nodeTableCode?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeTableCode.message))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("Select",{attrs:{defaultText:t.selectedTable}},t._l(t.tables,(function(s,i){return e("SelectOption",{key:i,nativeOn:{click:function(e){return t.selectTable(s)}}},[t._v(t._s(s.name))])})),1)],1)]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmNode.settings.node_field"))+"\n\t\t\t"),t.errors.nodeFieldCode?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeFieldCode.message))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("Select",{attrs:{defaultText:t.selectedNodeField,disabled:!1===t.fields}},t._l(t.fields,(function(s,i){return t.fields?e("SelectOption",{key:i,nativeOn:{click:function(e){return t.selectNodeField(s)}}},[t._v(t._s(s.em.name?s.em.name:s.field))]):t._e()})),1)],1)]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmNode.settings.search_field"))+"\n\t\t\t"),t.errors.nodeSearchCode?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeSearchCode.message))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("Select",{attrs:{defaultText:t.selectedSearchField,disabled:!1===t.fields}},t._l(t.fields,(function(s,i){return t.fields?e("SelectOption",{key:i,nativeOn:{click:function(e){return t.selectSearchField(s)}}},[t._v(t._s(s.em.name?s.em.name:s.field))]):t._e()})),1)],1)]),e("div",{staticClass:"popup__buttons"},[e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),e("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])])},n=[],a={props:["settings"],data:function(){return{localSettings:{multiple:!1,nodeTableCode:!1,nodeFieldCode:!1,nodeSearchCode:!1},errors:{}}},computed:{tables:function(){return this.$store.state.tables.tables},fields:function(){return this.$store.getters.getColumns(this.localSettings.nodeTableCode)},selectedTable:function(){var t=!1;return!1!==this.localSettings.nodeTableCode&&(t=this.$store.getters.getTable(this.localSettings.nodeTableCode)),!1===t?this.$t("fieldEmNode.settings.select_table"):t.name},selectedNodeField:function(){var t=!1;return!1!==this.localSettings.nodeFieldCode&&(t=this.$store.getters.getColumn(this.localSettings.nodeTableCode,this.localSettings.nodeFieldCode)),!1===t?this.$t("fieldEmNode.settings.select_field"):t.em.name?t.em.name:t.field},selectedSearchField:function(){var t=!1;return!1!==this.localSettings.nodeSearchCode&&(t=this.$store.getters.getColumn(this.localSettings.nodeTableCode,this.localSettings.nodeSearchCode)),!1===t?this.$t("fieldEmNode.settings.select_field"):t.em.name?t.em.name:t.field}},methods:{cancel:function(){this.$emit("cancel")},save:function(){var t=!1;for(var e in this.localSettings)0==this.localSettings[e]&&"multiple"!=e&&(this.$set(this.errors,e,{message:"Field is required"}),t=!0);t||this.$emit("save",this.localSettings)},selectTable:function(t){this.localSettings.nodeTableCode!=t.code&&(this.localSettings.nodeTableCode=t.code,this.localSettings.nodeFieldCode=!1,this.localSettings.nodeSearchCode=!1,this.$delete(this.errors,"nodeTableCode"))},selectNodeField:function(t){this.localSettings.nodeFieldCode=t.field,this.$delete(this.errors,"nodeFieldCode")},selectSearchField:function(t){this.localSettings.nodeSearchCode=t.field,this.$delete(this.errors,"nodeSearchCode")}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&("false"===this.settings[t]||"true"===this.settings[t]?this.$set(this.localSettings,t,"true"===this.settings[t]):this.$set(this.localSettings,t,this.settings[t]))}},r=a,o=s("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);e["default"]=l.exports},"93a7":function(t,e,s){"use strict";s.r(e);s("7f7f");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-popup-row-params"},[e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.many_to_many"))+"\n\t\t\t"),t.errors.isManyToMany?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.isManyToMany.message))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("Checkbox",{attrs:{checked:t.localSettings.isManyToMany},on:{"update:checked":function(e){return t.$set(t.localSettings,"isManyToMany",e)}}})],1)]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.key_field"))+"\n\t\t\t"),t.errors.localField?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.localField.message))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("Select",{attrs:{defaultText:t.selectedLocalField}},t._l(t.currentTable.columns,(function(s,i){return e("SelectOption",{key:i,nativeOn:{click:function(e){return t.selectField(s,"local")}}},[t._v(t._s(s.em.name?s.em.name:s.field))])})),1)],1)]),t.localSettings.isManyToMany?[e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.node_table"))+"\n\t\t\t\t"),t.errors.nodeTableCode?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeTableCode.message))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("Select",{attrs:{defaultText:t.selectedNodeTable}},t._l(t.tables,(function(s,i){return e("SelectOption",{key:i,nativeOn:{click:function(e){return t.selectTable(s,"nodeTable")}}},[t._v(t._s(s.name))])})),1)],1)]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.key_field"))+" "),e("span",{staticClass:"em-matrix--lowercase"},[t._v("("+t._s(t.$t("fieldEmMatrix.settings.node_table"))+")")]),t.errors.nodeTableField?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeTableField.message))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("Select",{attrs:{defaultText:t.selectedNodeTableField,disabled:!1===t.nodeTableFields}},t._l(t.nodeTableFields,(function(s,i){return t.nodeTableFields?e("SelectOption",{key:i,nativeOn:{click:function(e){return t.selectField(s,"nodeTable")}}},[t._v(t._s(s.em.name?s.em.name:s.field))]):t._e()})),1)],1)]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.key_field"))+" "),e("span",{staticClass:"em-matrix--lowercase"},[t._v("("+t._s(t.$t("fieldEmMatrix.settings.node_table"))+" - "+t._s(t.$t("table"))+")")]),t.errors.nodeTableFinalTableField?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeTableFinalTableField.message))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("Select",{attrs:{defaultText:t.selectedNodeTableFinalTableField,disabled:!1===t.nodeTableFields}},t._l(t.nodeTableFields,(function(s,i){return t.nodeTableFields?e("SelectOption",{key:i,nativeOn:{click:function(e){return t.selectField(s,"nodeTableFinalTable")}}},[t._v(t._s(s.em.name?s.em.name:s.field))]):t._e()})),1)],1)])]:t._e(),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("table"))+"\n\t\t\t"),t.errors.finalTableCode?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.finalTableCode.message))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("Select",{attrs:{defaultText:t.selectedTable}},t._l(t.tables,(function(s,i){return e("SelectOption",{key:i,nativeOn:{click:function(e){return t.selectTable(s,"finalTable")}}},[t._v(t._s(s.name))])})),1)],1)]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.select_field"))+"\n\t\t\t"),t.errors.finalTableField?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.finalTableField.message))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("Select",{attrs:{defaultText:t.selectedFinalTableField,disabled:!1===t.finalTableFields}},t._l(t.finalTableFields,(function(s,i){return t.finalTableFields?e("SelectOption",{key:i,nativeOn:{click:function(e){return t.selectField(s,"finalTable")}}},[t._v(t._s(s.em.name?s.em.name:s.field))]):t._e()})),1)],1)]),t.finalTableFields?e("MatrixTableSettings",{attrs:{fields:t.localSettings.columnsSettings},on:{"update:fields":function(e){return t.$set(t.localSettings,"columnsSettings",e)}}}):t._e(),e("div",{staticClass:"popup__buttons"},[e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),e("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])],2)},n=[],a=(s("3b2b"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"matrix-table-settings"},[e("h2",{staticClass:"popup__name"},[t._v("Visual table settings")]),t._m(0),e("draggable",{attrs:{list:t.fields}},t._l(t.fields,(function(s){return e("div",{key:s.order,staticClass:"matrix-table-settings__line"},[e("div",{staticClass:"matrix-table-settings__block matrix-table-settings__block--drag"},[e("svg",{attrs:{width:"8",height:"12"}},[e("use",{attrs:{"xlink:href":"#dotts-for-drag"}})])]),e("div",{staticClass:"matrix-table-settings__block"},[t._v(t._s(s.key))]),e("div",{staticClass:"matrix-table-settings__block"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"field.name"}],attrs:{type:"text",placeholder:"Set Name"},domProps:{value:s.name},on:{input:function(e){e.target.composing||t.$set(s,"name",e.target.value)}}})]),e("div",{staticClass:"matrix-table-settings__block"},[e("Checkbox",{attrs:{checked:s.visibility},on:{"update:checked":function(e){return t.$set(s,"visibility",e)}}})],1)])})),0)],1)}),r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"matrix-table-settings__line"},[e("div",{staticClass:"matrix-table-settings__block matrix-table-settings__block--drag"}),e("div",{staticClass:"matrix-table-settings__block"},[t._v("Code")]),e("div",{staticClass:"matrix-table-settings__block"},[t._v("Name")]),e("div",{staticClass:"matrix-table-settings__block"},[t._v("Show field")])])}],o=s("b76a"),l=s.n(o),c={components:{draggable:l.a},props:{fields:{type:Array,required:!0}},data:function(){return{}},mounted:function(){},methods:{}},u=c,d=(s("85d7"),s("2877")),p=Object(d["a"])(u,a,r,!1,null,null,null),g=p.exports,m={components:{MatrixTableSettings:g},props:["settings","currentTable"],data:function(){return{localSettings:{isManyToMany:!1,localField:!1,nodeTableCode:!1,nodeTableField:!1,nodeTableFinalTableField:!1,finalTableCode:!1,finalTableField:!1,columnsSettings:[]},errors:{}}},computed:{tables:function(){return this.$store.state.tables.tables},finalTableFields:function(){var t=this.$store.getters.getColumns(this.localSettings.finalTableCode);if(0!=this.localSettings.columnsSettings.length)return t;var e=0;for(var s in t)this.localSettings.columnsSettings.push({key:t[s].field,name:t[s].em.name,oder:e++,visibility:!1});return t},nodeTableFields:function(){return this.$store.getters.getColumns(this.localSettings.nodeTableCode)},selectedTable:function(){var t=!1;return!1!==this.localSettings.finalTableCode&&(t=this.$store.getters.getTable(this.localSettings.finalTableCode)),!1===t?this.$t("fieldEmMatrix.settings.select_table"):t.name},selectedNodeTable:function(){var t=!1;return!1!==this.localSettings.nodeTableCode&&(t=this.$store.getters.getTable(this.localSettings.nodeTableCode)),!1===t?this.$t("fieldEmMatrix.settings.select_table"):t.name},selectedLocalField:function(){var t=!1;return!1!==this.localSettings.localField&&(t=this.$store.getters.getColumn(this.currentTable.code,this.localSettings.localField)),!1===t?this.$t("fieldEmMatrix.settings.select_field"):t.em.name?t.em.name:t.field},selectedNodeTableField:function(){var t=!1;return!1!==this.localSettings.nodeTableField&&(t=this.$store.getters.getColumn(this.localSettings.nodeTableCode,this.localSettings.nodeTableField)),!1===t?this.$t("fieldEmMatrix.settings.select_field"):t.em.name?t.em.name:t.field},selectedNodeTableFinalTableField:function(){var t=!1;return!1!==this.localSettings.nodeTableFinalTableField&&(t=this.$store.getters.getColumn(this.localSettings.nodeTableCode,this.localSettings.nodeTableFinalTableField)),!1===t?this.$t("fieldEmMatrix.settings.select_field"):t.em.name?t.em.name:t.field},selectedFinalTableField:function(){var t=!1;return!1!==this.localSettings.finalTableField&&(t=this.$store.getters.getColumn(this.localSettings.finalTableCode,this.localSettings.finalTableField)),!1===t?this.$t("fieldEmMatrix.settings.select_field"):t.em.name?t.em.name:t.field}},methods:{cancel:function(){this.$emit("cancel")},validate:function(){var t=!1,e=new RegExp("nodeTableCode|nodeTableField|nodeTableFinalTableField");for(var s in this.localSettings)"isManyToMany"===s||!this.localSettings.isManyToMany&&e.test(s)||!1!==this.localSettings[s]||(t=!0,this.$set(this.errors,s,{message:"Field is required"}));return!t},save:function(){this.validate()&&this.$emit("save",this.localSettings)},selectTable:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"finalTable";this.localSettings.columnsSettings=[],"undefined"!==typeof this.localSettings[e+"Code"]&&this.localSettings[e+"Code"]!==t.code&&(this.localSettings[e+"Code"]=t.code,"nodeTable"===e&&(this.localSettings.nodeTableFinalTableField=!1),this.localSettings[e+"Field"]=!1,this.$delete(this.errors,e+"Code"))},selectField:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";this.localSettings[e+"Field"]=t.field,this.$delete(this.errors,e+"Field")}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&("false"===this.settings[t]?this.$set(this.localSettings,t,!1):this.$set(this.localSettings,t,this.settings[t]));if(this.localSettings.isManyToMany="true"===this.localSettings.isManyToMany,0!=this.localSettings.columnsSettings.length)for(var e in this.localSettings.columnsSettings)this.localSettings.columnsSettings[e].visibility="true"===this.localSettings.columnsSettings[e].visibility}},f=m,h=(s("4b14"),Object(d["a"])(f,i,n,!1,null,null,null));e["default"]=h.exports},"972b":function(t,e,s){},9863:function(t,e,s){},be3c:function(t,e,s){var i={"./em_check/Settings.vue":"85b8","./em_date/Settings.vue":"276e","./em_file/Settings.vue":"dee1","./em_int/Settings.vue":"efd5","./em_list/Settings.vue":"bf74","./em_matrix/Settings.vue":"93a7","./em_node/Settings.vue":"8c2f","./em_string/Settings.vue":"1f35"};function n(t){var e=a(t);return s(e)}function a(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=a,t.exports=n,n.id="be3c"},bf74:function(t,e,s){"use strict";s.r(e);s("7f7f");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"em-list-settings"},[e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("Multiple")]),e("div",{staticClass:"popup__field-input"},[e("Checkbox",{attrs:{checked:t.localSettings.multiple},on:{"update:checked":function(e){return t.$set(t.localSettings,"multiple",e)}}})],1)]),t._m(0),e("div",{staticClass:"em-list__table"},[e("div",{staticClass:"em-list-settings__line"},[e("div",{staticClass:"em-list-settings__key-block"},[t._v(t._s(t.$t("fieldEmList.settings.key")))]),e("div",{staticClass:"em-list-settings__key-block"},[t._v(t._s(t.$t("fieldEmList.settings.value")))]),e("div",{staticClass:"em-list-settings__color-block em-list-settings__color-block--header"},[t._v("Color")])]),t._l(t.localSettings.list,(function(s,i){return e("div",{key:i,staticClass:"em-list-settings__line"},[e("div",{staticClass:"em-list-settings__key-block"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.key,expression:"listItem.key"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("fieldEmList.settings.enter_key")},domProps:{value:s.key},on:{input:function(e){e.target.composing||t.$set(s,"key",e.target.value)}}})]),e("div",{staticClass:"em-list-settings__value-block"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.value,expression:"listItem.value"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("fieldEmList.settings.enter_value")},domProps:{value:s.value},on:{input:function(e){e.target.composing||t.$set(s,"value",e.target.value)}}})]),e("div",{staticClass:"em-list-settings__color-block"},[e("Select",{staticClass:"em-list-settings__select-color",scopedSlots:t._u([{key:"selected",fn:function(){return[e("div",{staticClass:"em-list-settings__color-thumb-wrap"},[e("span",{staticClass:"em-list-settings__color-thumb",style:{background:t.getColor(s.color).rgb}}),t._v("\n\t\t\t\t\t\t\t"+t._s(t.getColor(s.color).name)+"\n\t\t\t\t\t\t")])]},proxy:!0}],null,!0)},t._l(t.colors,(function(i){return e("SelectOption",{key:i.rgb,staticClass:"em-list-settings__color-thumb-wrap",nativeOn:{click:function(e){return t.selectColor(s,i)}}},[e("span",{staticClass:"em-list-settings__color-thumb",style:{background:i.rgb}}),t._v("\n\t\t\t\t\t\t"+t._s(i.name)+"\n\t\t\t\t\t")])})),1)],1),e("div",{staticClass:"em-list-settings__remove-block"},[e("div",{staticClass:"em-list-settings__remove-item",on:{click:function(e){return e.stopPropagation(),t.removeValue(i)}}},[e("svg",{attrs:{width:"12",height:"12"}},[e("use",{attrs:{"xlink:href":"#plus-white"}})])])])])}))],2),e("div",{staticClass:"em-list-settings__add-line"},[e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.addValues()}}},[t._v(t._s(t.$t("fieldEmList.settings.add_option")))])]),e("div",{staticClass:"popup__buttons"},[e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),e("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("Options List")])])}];s("ac4d"),s("8a81"),s("5df3"),s("1c4c"),s("6b54");function a(t,e){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=r(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==s.return||s.return()}finally{if(l)throw a}}}}function r(t,e){if(t){if("string"==typeof t)return o(t,e);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=Array(e);s<e;s++)i[s]=t[s];return i}var l={props:["settings"],data:function(){return{localSettings:{list:[{key:"",value:"",color:""}],multiple:!1},colors:[{rgb:"#F1F0F0",name:"Light gray"},{rgb:"#E3E2E0",name:"Gray"},{rgb:"#ECE0DB",name:"Brown"},{rgb:"#F5DFCC",name:"Orange"},{rgb:"#FAECCC",name:"Yellow"},{rgb:"#DEECDC",name:"Green"},{rgb:"#D6E4EE",name:"Blue"},{rgb:"#E6DEED",name:"Purple"},{rgb:"#F1E1E9",name:"Pink"},{rgb:"#FAE3DE",name:"Red"}]}},methods:{selectColor:function(t,e){t.color=e.rgb},getColor:function(t){var e,s=!1,i=a(this.colors);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(t==n.rgb){s=n;break}}}catch(r){i.e(r)}finally{i.f()}return!1===s?this.colors[1]:s},removeValue:function(t){this.localSettings.list.splice(t,1)},addValues:function(){var t=Math.floor(Math.random()*this.colors.length);t=this.colors[t].rgb,this.localSettings.list.push({key:"",value:"",color:t})},cancel:function(){this.$emit("cancel")},save:function(){var t={list:this.localSettings.list,multiple:this.localSettings.multiple};this.$emit("save",t)}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&("false"===this.settings[t]||"true"===this.settings[t]?this.$set(this.localSettings,t,"true"===this.settings[t]):this.$set(this.localSettings,t,this.settings[t]))}},c=l,u=(s("5579"),s("2877")),d=Object(u["a"])(c,i,n,!1,null,null,null);e["default"]=d.exports},c260:function(t,e,s){"use strict";s("32ea")},c52c:function(t,e,s){"use strict";s.r(e);s("7f7f");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-wrapper"},[e("div",{staticClass:"settings-head"},[e("div",{staticClass:"settings-head__burger"},[e("MobileBurger")],1),e("div",{staticClass:"settings-head-name"},[e("div",{staticClass:"settings-icon-wrapper"},[t._v(" ⚙️ ")]),e("div",{staticClass:"settings-name-wrapper"},[e("div",{staticClass:"settings-head-label"},[t._v(t._s(t.$t("settings")))]),e("div",{staticClass:"settings-head-descr"},[t._v(t._s(t.$t("pages.settings.user_and_table_settings")))])])])]),e("div",{staticClass:"settings-tab-wrapper"},[e("div",{staticClass:"settings-tabs-head"},t._l(t.tabs,(function(s){return s.noAdminRights||t.$store.state.users.authUser.is_admin?e("div",{staticClass:"settings-tab-item",class:{active:s.active},on:{click:function(e){return t.setActiveTab(s)}}},[t._v(t._s(s.name))]):t._e()})),0),e("div",{staticClass:"settings-tabs-content-wrapper"},[t.activeTab==t.$t("tables")&&t.$store.state.users.authUser.is_admin?e("div",{staticClass:"settings-tab-content"},[e("SettingsTable")],1):t._e(),t.activeTab==t.$t("users")&&t.$store.state.users.authUser.is_admin?e("div",{staticClass:"settings-tab-content"},[e("SettingsUser")],1):t._e(),t.activeTab==t.$t("languages")?e("div",{staticClass:"settings-tab-content"},[e("SettingsLang")],1):t._e(),t.activeTab==t.$t("groups")&&t.$store.state.users.authUser.is_admin?e("div",{staticClass:"settings-tab-content"},[e("SettingsGroups")],1):t._e(),"API&Tokens"==t.activeTab&&t.$store.state.users.authUser.is_admin?e("div",{staticClass:"settings-tab-content"},[e("SettingsApi")],1):t._e()])])])},n=[],a=(s("ac4d"),s("8a81"),s("5df3"),s("1c4c"),s("6b54"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-table-wrapper"},[t.tables.length?t._e():e("div",{staticClass:"settings-empty-tables"},[t._v("\n\t\t"+t._s(t.$t("settingsTable.no_tables"))+"\n\t")]),t.tables.length?e("div",{staticClass:"settings-table-head"},[e("div",{staticClass:"settings-table-row-data"},[e("div",{staticClass:"settings-table-item"},[e("div",{staticClass:"settings-table-item-title"},[t._v(t._s(t.$t("code")))])]),e("div",{staticClass:"settings-table-item"},[e("div",{staticClass:"settings-table-item-title"},[t._v(t._s(t.$t("name")))])]),e("div",{staticClass:"settings-table-item"},[e("div",{staticClass:"settings-table-item-title"},[t._v(t._s(t.$t("show")))])]),e("div",{staticClass:"settings-table-item"})]),t._l(t.tables,(function(s){return e("div",{staticClass:"settings-table-row"},[e("div",{staticClass:"settings-table-row-data"},[e("div",{staticClass:"settings-table-item",on:{click:function(e){return t.toggleSettingsRow(s)}}},[e("svg",{staticClass:"settings-table-item-img",class:{active:"visible"==s.showSettings.overflow||"auto"==s.showSettings.overflow},attrs:{width:"7",height:"13"}},[e("use",{attrs:{"xlink:href":"#arrow"}})]),e("div",{staticClass:"settings-table-item-code"},[t._v(t._s(s.code))])]),e("div",{staticClass:"settings-table-item"},[e("div",{staticClass:"settings-table-item-name"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"table.name"}],attrs:{type:"text",placeholder:t.$t("set_something")+t.$t("name")},domProps:{value:s.name},on:{change:function(e){return t.saveTableSettings(s)},input:function(e){e.target.composing||t.$set(s,"name",e.target.value)}}})])]),e("div",{staticClass:"settings-table-item"},[e("div",{staticClass:"settings-table-item-flag"},[e("Checkbox",{attrs:{checked:s.visible},on:{"update:checked":function(e){return t.$set(s,"visible",e)},change:function(e){return t.saveTableSettings(s)}}})],1)]),e("div",{staticClass:"settings-table-item centered"},[e("button",{staticClass:"settings-table__open-settings",on:{click:function(e){return t.showTableGroups(s)}}},[t._v(t._s(t.$t("groups")))]),s.code!=t.showTableGroupsCode||t.showPopupAddGroup?t._e():e("TableGroups",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideTableGroups,expression:"hideTableGroups"}],attrs:{access:s.access,table:s.code},on:{showTableGroupsAdding:t.showTableGroupsAdding,disableTableAccess:t.disableTableAccess}})],1)]),e("div",{staticClass:"settings-table-row-setting",style:s.showSettings,attrs:{id:"settings-table-row"}},t._l(s.columns,(function(i){return e("div",{staticClass:"settings-table-row-setting-item active"},[e("div",{staticClass:"settings-table-item"},[t._v(" "+t._s(i.field)+" ")]),e("div",{staticClass:"settings-table-item category-font"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.em.name,expression:"column.em.name"}],staticClass:"settings-table-input-name",attrs:{type:"text",placeholder:t.$t("set_something")+t.$t("name")},domProps:{value:i.em.name},on:{change:function(e){return t.changeColumnName(s.code,i)},input:function(e){e.target.composing||t.$set(i.em,"name",e.target.value)}}})]),e("div",{staticClass:"settings-table-item centered"},[e("Select",{attrs:{defaultText:i.em.type_info.name}},t._l(t.fieldTypes,(function(n){return e("SelectOption",{key:n.code,nativeOn:{click:function(e){return t.changeType({table:s.code,column:i.field,fieldType:n})}}},[t._v(t._s(n.name))])})),1)],1),e("div",{staticClass:"settings-table-item"},[t.checkSettingComponent(s,i)?e("button",{staticClass:"settings-table__open-settings",on:{click:function(e){return t.openSettingsPopup(s,i)}}},[t._v(t._s(t.$t("settings")))]):t._e()])])})),0)])}))],2):t._e(),e("Popup",{attrs:{visible:t.settingsPopup,popupBlockClasses:["settings-table__popup-".concat(t.getColumnFiledType(t.settingsColumn))]},on:{"update:visible":function(e){t.settingsPopup=e}}},[e("div",{staticClass:"popup__name"},[t._v(t._s(t.$t("settings_of",{of_what:t.settingsColumn&&t.settingsColumn.field||""})))]),e(t.settingsComponent,{tag:"component",attrs:{settings:t.currentSettings,currentTable:t.settingsTable},on:{save:t.saveSettings,cancel:function(e){t.settingsPopup=!1}}})],1),e("StoreSelect",{attrs:{disableIf:"is_admin",visible:t.showPopupAddGroup,settings:{searchStr:"$store.state.groups.groups"}},on:{selectItem:t.addGroupToTable,"update:visible":function(e){t.showPopupAddGroup=e}}})],1)}),r=[],o=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),l=s("bd86"),c=s("4328"),u=s.n(c),d=s("d230"),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-groups"},[t._l(t.tableGroups,(function(s){return s?e("div",{staticClass:"table-groups__line"},[e("div",{staticClass:"table-groups__name"},[e("span",[t._v(t._s(s.name))]),e("em",[t._v(t._s(t.$t("members",{count:s.members.length})))])]),e("div",{staticClass:"table-groups__select"},[e("Select",{attrs:{defaultText:s.access_str,disabled:s.is_admin}},t._l(t.accessOptions,(function(i,n){return e("SelectOption",{key:n,nativeOn:{click:function(e){return t.setGroupAccess(s.id,i.strValue)}}},[t._v(t._s(i.title))])})),1)],1)]):t._e()})),e("div",{staticClass:"table-groups__buttons"},[e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.$emit("disableTableAccess",t.table)}}},[t._v(t._s(t.$t("disableAccess")))]),e("button",{staticClass:"el-btn",on:{click:function(e){return t.$emit("showTableGroupsAdding")}}},[t._v(t._s(t.$t("addGroup")))])])],2)},g=[],m=(s("7514"),s("2f62"));function f(t,e){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=h(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw a}}}}function h(t,e){if(t){if("string"==typeof t)return v(t,e);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=Array(e);s<e;s++)i[s]=t[s];return i}function _(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_(Object(s),!0).forEach((function(e){Object(l["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var C={props:["access","table"],data:function(){return{tableGroups:[]}},computed:b({},Object(m["c"])({groups:function(t){return t.groups.groups},accessOptions:function(t){return t.groups.accessOptions}})),mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAccessOptions();case 2:return t.next=4,this.initTableGroups();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getAccessOptions:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.accessOptions&&this.accessOptions.length){t.next=3;break}return t.next=3,this.$store.dispatch("getAccessOptions");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setGroupAccess:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("setGroupAccess",{groupId:e,accessStr:s,tableName:this.table});case 2:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),initTableGroups:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,i,n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.groups&&this.groups.length){t.next=3;break}return t.next=3,this.$store.dispatch("getGroups");case 3:e=[],s=f(this.groups);try{for(s.s();!(i=s.n()).done;){n=i.value,a=f(this.access);try{for(a.s();!(r=a.n()).done;)o=r.value,+o.group_id===+n.id&&e.push(b(b({},n),{},{access:+o.access,access_str:this.getAccessStr(+o.access),id:+n.id}))}catch(l){a.e(l)}finally{a.f()}}}catch(l){s.e(l)}finally{s.f()}this.$set(this,"tableGroups",e);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAccessStr:function(t){var e=this.accessOptions.find((function(e){return e.value===t}));return e?e.title:"unsetted"}}},w=C,S=(s("4149"),s("2877")),y=Object(S["a"])(w,p,g,!1,null,null,null),k=y.exports,$=function(){var t=this,e=t._self._c;return e("Popup",{staticClass:"select-popup__add",attrs:{visible:t.isPopupVisible},on:{"update:visible":function(e){t.isPopupVisible=e}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"select-popup__add-search",attrs:{type:"text",placeholder:t.$t("search")+"..."},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),t._l(t.items,(function(s){return e("div",{staticClass:"select-popup__item-line",on:{click:function(e){return t.selectItem(s)}}},[s.avatar?e("img",{attrs:{src:s.avatar,alt:""}}):t._e(),t._v("\n\t\t"+t._s(s.name)+"\n\t")])}))],2)},x=[];s("28a5");function T(t,e){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=O(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw a}}}}function O(t,e){if(t){if("string"==typeof t)return F(t,e);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?F(t,e):void 0}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=Array(e);s<e;s++)i[s]=t[s];return i}var P={props:["visible","settings","disableIf","disableIfNot"],data:function(){return{searchText:""}},computed:{isPopupVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}},searched:function(){if(this.settings.searchArr)return this.settings.searchArr;var t,e=this,s=T(this.settings.searchStr.split("."));try{for(s.s();!(t=s.n()).done;){var i=t.value;e=e[i]}}catch(n){s.e(n)}finally{s.f()}return e},items:function(){var t=this,e=0;return this.searched.filter((function(s){if(e>10||"undefined"==typeof s.name||t.disableIf&&s[t.disableIf]||t.disableIfNot&&!s[t.disableIfNot])return!1;var i=t.searchText.toLowerCase(),n=s.name.toLowerCase(),a=-1!==n.indexOf(i);return!!a&&(e++,!0)}))}},methods:{selectItem:function(t){this.$emit("selectItem",t),this.$emit("update:visible",!1)}}},j=P,A=(s("3112"),Object(S["a"])(j,$,x,!1,null,null,null)),E=A.exports;function R(t,e){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=M(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw a}}}}function M(t,e){if(t){if("string"==typeof t)return G(t,e);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?G(t,e):void 0}}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=Array(e);s<e;s++)i[s]=t[s];return i}function N(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function I(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?N(Object(s),!0).forEach((function(e){Object(l["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):N(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var U={mixins:[d["a"]],components:{TableGroups:k,StoreSelect:E},data:function(){return{fieldTypes:{},tables:[],tableStyle:{height:"0px",overflow:"hidden"},settingsPopup:!1,settingsFielType:"",currentSettings:null,settingsTable:null,settingsColumn:{field:"none"},showTableGroupsCode:!1,showPopupAddGroup:!1}},computed:I(I({},Object(m["c"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({storeTables:function(t){return t.tables.tables}},"storeTables",(function(t){return t.tables.tables})),"getColumns",(function(t){return t.tables.tableColumns})),"accessOptions",(function(t){return t.groups.accessOptions})))),{},{settingsComponent:function(){var t=this;return!!this.settingsColumn&&(!!this.settingsFielType&&function(){return s("47f5")("./".concat(t.settingsFielType,"/Settings.vue"))})}}),mounted:function(){this.initTables()},methods:{checkSettingComponent:function(t,e){try{s("be3c")("./".concat(e.em.settings.code,"/Settings.vue"))}catch(i){return!1}return!0},openSettingsPopup:function(t,e){this.$set(this,"settingsTable",t),this.$set(this,"settingsColumn",e),this.$set(this,"settingsFielType",e.em.type_info.code),this.$set(this,"currentSettings",e.em.settings),this.$set(this,"settingsPopup",!0)},saveSettings:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,i,n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={tableName:this.settingsTable.code,columnName:this.settingsColumn&&this.settingsColumn.field||"",fieldType:this.settingsFielType,settings:e},s=u.a.stringify(s),t.next=4,this.$axios.post("/settings/setFieldSettings/",s);case 4:if(i=t.sent,!i.data.success){t.next=26;break}this.settingsPopup=!1,n=R(this.tables),t.prev=8,n.s();case 10:if((a=n.n()).done){t.next=17;break}if(r=a.value,r.code==this.settingsTable.code){t.next=14;break}return t.abrupt("continue",15);case 14:for(o in r.columns)o==(this.settingsColumn&&this.settingsColumn.field)&&(r.columns[o].em.settings=i.data.settings);case 15:t.next=10;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](8),n.e(t.t0);case 22:return t.prev=22,n.f(),t.finish(22);case 25:this.ElMessage(this.$t("elMessages.settings_saved"));case 26:case"end":return t.stop()}}),t,this,[[8,19,22,25]])})));function e(e){return t.apply(this,arguments)}return e}(),getFieldSettings:function(t,e){return this.$store.getters.getColumnSettings(t.code,e.field)},changeType:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=u.a.stringify({tableName:e.table,columnName:e.column,fieldType:e.fieldType.code}),t.next=3,this.$axios({method:"post",url:"/settings/changeFieldType/",data:s});case 3:if(i=t.sent,i.data.success){t.next=6;break}return t.abrupt("return",!1);case 6:n=this.getTableByCode(e.table,this.tables),this.$set(n.columns[e.column],"em",i.data.settings);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getColumnFiledType:function(t){return"undefined"!==typeof t.em?t.em.type:""},toggleSettingsRow:function(t){if("visible"==t.showSettings.overflow)return t.showSettings.overflow="hidden",t.showSettings.height="0",!1;var e=0;for(var s in t.columns)e+=49;t.showSettings.height=e+"px",t.showSettings.overflow="auto",setTimeout((function(){t.showSettings.overflow="visible"}),300)},setRowSetting:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showSettings=!e.showSettings;case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),changeColumnName:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,i){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s("4328"),a=n.stringify({tableName:e,field:i.field,name:i.em.name,type:i.em.type_info.code}),t.next=3,this.$axios({method:"POST",url:"/settings/changeName/",data:a});case 3:if(r=t.sent,r.data.success){t.next=6;break}return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),saveTableSettings:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,i,n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=!1,i=R(e.tviews);try{for(i.s();!(n=i.n()).done;)a=n.value,1===a.default&&(s=a)}catch(o){i.e(o)}finally{i.f()}return r=u.a.stringify({tviewId:s.id,params:{table:{visible:e.visible,name:e.name}}}),t.next=6,this.$axios({method:"POST",data:r,url:"/el/setTviewSettings/"});case 6:t.sent;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),initTables:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getTables");case 2:return t.next=4,this.$axios.get("/settings/getFiledTypes/");case 4:e=t.sent,e.data.success&&this.$set(this,"fieldTypes",e.data.types),this.$set(this,"tables",this.storeTables||[]),s=R(this.tables);try{for(s.s();!(i=s.n()).done;)n=i.value,this.$set(n,"showSettings",Object.assign({},this.tableStyle))}catch(a){s.e(a)}finally{s.f()}this.$store.commit("showLoader",!1);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showTableGroups:function(t){this.showTableGroupsCode=t.code},hideTableGroups:function(){this.showTableGroupsCode=!1},showTableGroupsAdding:function(){this.showPopupAddGroup=!0},addGroupToTable:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=this.showTableGroupsCode,this.showTableGroupsCode=!1,t.next=4,this.$store.dispatch("setGroupAccess",{groupId:e.id,accessStr:this.accessOptions[0].strValue,tableName:s});case 4:return t.next=6,this.initTables();case 6:this.showTableGroupsCode=s;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),disableTableAccess:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/groups/disableGroupsAccess/",u.a.stringify({tableName:e}));case 2:if(s=t.sent,s.data.success){t.next=6;break}return this.ElMessage.error(s.data.message),t.abrupt("return");case 6:return t.next=8,this.initTables();case 8:this.ElMessage(this.$t("elMessages.settings_saved")),this.showTableGroupsCode=!1;case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},D=U,L=(s("06a8"),Object(S["a"])(D,a,r,!1,null,null,null)),V=L.exports,B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-users-wrapper"},[e("div",{staticClass:"settings-users-head"},[e("div",{staticClass:"settings-users-row-data"},[e("div",{staticClass:"settings-users-item"},[e("div",{staticClass:"settings-users-item-title"},[t._v(t._s(t.$t("login")))])]),e("div",{staticClass:"settings-users-item"},[e("div",{staticClass:"settings-users-item-title"},[t._v(t._s(t.$t("name")))])]),e("div",{staticClass:"settings-users-item"})]),t._l(t.$store.state.settings.users,(function(s){return e("div",{staticClass:"settings-users-row"},[e("div",{staticClass:"settings-users-row-data"},[e("div",{staticClass:"settings-users-item"},[e("svg",{staticClass:"settings-users-item-img",class:{active:s.isShow},attrs:{width:"7",height:"13"},on:{click:function(e){return t.setRowSetting(s)}}},[e("use",{attrs:{"xlink:href":"#arrow"}})]),e("div",{staticClass:"settings-users-item-code"},[t._v(t._s(s.login))])]),e("div",{staticClass:"settings-users-item"},[t._v(t._s(s.name))]),e("div",{staticClass:"settings-users-item"},[e("a",{staticClass:"settings-users__remove-user",attrs:{href:"#"},on:{click:function(e){return t.removeUser(s)}}},[t._v(t._s(t.$t("remove")))])])]),e("div",{staticClass:"settings-users-row-setting"},[e("div",{staticClass:"settings-users-row-setting-item",class:{active:s.isShow}},[e("div",{staticClass:"settings-users-item"},[t._v("\n\t\t\t\t\t\tid\n\t\t\t\t\t")]),e("div",{staticClass:"settings-users-item"},[t._v("\n\t\t\t\t\t\t"+t._s(s.id)+"\n\t\t\t\t\t")])]),e("div",{staticClass:"settings-users-row-setting-item",class:{active:s.isShow}},[e("div",{staticClass:"settings-users-item"},[t._v(" "+t._s(t.$t("name"))+" ")]),e("div",{staticClass:"settings-users-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"user.name"}],staticClass:"settings-users-input",attrs:{type:"text",placeholder:t.$t("set_something")+t.$t("name")},domProps:{value:s.name},on:{change:function(e){return t.updateUser(s)},input:function(e){e.target.composing||t.$set(s,"name",e.target.value)}}})])]),e("div",{staticClass:"settings-users-row-setting-item",class:{active:s.isShow}},[e("div",{staticClass:"settings-users-item"},[t._v(" "+t._s(t.$t("login"))+" ")]),e("div",{staticClass:"settings-users-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.login,expression:"user.login"}],staticClass:"settings-users-input",attrs:{type:"text",placeholder:t.$t("set_something")+t.$t("login")},domProps:{value:s.login},on:{change:function(e){return t.updateUser(s)},input:function(e){e.target.composing||t.$set(s,"login",e.target.value)}}})])]),e("div",{staticClass:"settings-users-row-setting-item",class:{active:s.isShow}},[e("div",{staticClass:"settings-users-item"},[t._v(" Email ")]),e("div",{staticClass:"settings-users-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"user.email"}],staticClass:"settings-users-input",attrs:{type:"text",placeholder:t.$t("set_something")+"Email"},domProps:{value:s.email},on:{change:function(e){return t.updateUser(s)},input:function(e){e.target.composing||t.$set(s,"email",e.target.value)}}})])]),e("div",{staticClass:"settings-users-row-setting-item",class:{active:s.isShow}},[e("div",{staticClass:"settings-users-item"},[t._v(" "+t._s(t.$t("password"))+" ")]),e("div",{staticClass:"settings-users-item settings-users__password-field"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.newPassword,expression:"user.newPassword"}],staticClass:"settings-users-input",attrs:{type:"password",placeholder:t.$t("set_something")+t.$t("password")},domProps:{value:s.newPassword},on:{input:function(e){e.target.composing||t.$set(s,"newPassword",e.target.value)}}}),""!=s.newPassword?e("button",{staticClass:"settings-users-btn",on:{click:function(e){return t.updatePassword(s)}}},[t._v("change")]):t._e()])])])])}))],2),e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.openAddUser()}}},[t._v(t._s(t.$t("add_user")))]),e("Popup",{attrs:{visible:t.addPopupVisible},on:{"update:visible":function(e){t.addPopupVisible=e}}},[e("AddUser",{on:{cancel:function(e){t.addPopupVisible=!1}}})],1)],1)},q=[],J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-popup-row-params"},[e("div",{staticClass:"popup__name"},[t._v(t._s(t.$t("add_user")))]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("name"))+"\n\t\t\t"),t.errors.name?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.name))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("enter_something")+t.$t("name")},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("login"))+"\n\t\t\t"),t.errors.login?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.login))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("enter_something")+t.$t("login")},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})])]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tEmail\n\t\t\t"),t.errors.email?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.email))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("enter_something")+"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("password"))+"\n\t\t\t"),t.errors.password?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.password))]):t._e()]),e("div",{staticClass:"popup__field-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("enter_something")+t.$t("password")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),e("div",{staticClass:"popup__buttons"},[e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),e("button",{staticClass:"el-btn",on:{click:function(e){return t.addUser()}}},[t._v(t._s(t.$t("add")))])])])},H=[],Y={data:function(){return{name:"",login:"",email:"",password:"",errors:{name:!1,login:!1,email:!1,password:!1}}},methods:{validate:function(){for(var t=["name","login","email","password"],e=!0,s=0,i=t;s<i.length;s++){var n=i[s];""==this[n]?(this.errors[n]=this.$t("addUser.this_field_required"),e=!1):this.errors[n]=!1}return e},addUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validate()){t.next=2;break}return t.abrupt("return",!1);case 2:return e={name:this.name,login:this.login,email:this.email,password:this.password,language:this.$store.state.users.authUser.language},s=u.a.stringify(e),e.isShow=!1,e.newPassword="",t.next=8,this.$axios.post("/users/addUser/",s);case 8:if(i=t.sent,!i.data.success){t.next=15;break}e.id=i.data.id,this.$store.commit("addUser",e),this.cancel(),t.next=16;break;case 15:return t.abrupt("return",this.ElMessage.error(i.data.message));case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$emit("cancel")}}},z=Y,K=Object(S["a"])(z,J,H,!1,null,null,null),Q=K.exports,W={components:{AddUser:Q},data:function(){return{users:[],addPopupVisible:!1}},methods:{setRowSetting:function(t){t.isShow=!t.isShow},updateUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={},s.id=e.id,s.login=e.login,s.name=e.name,s.email=e.email,s=u.a.stringify(s),t.next=8,this.$axios.post("/users/updateUser/",s);case 8:i=t.sent,i.data.success&&this.ElMessage(this.$t("elMessages.user_saved"));case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),updatePassword:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={},s.id=e.id,s.password=e.newPassword,s=u.a.stringify(s),t.next=6,this.$axios.post("/users/updateUser/",s);case 6:i=t.sent,i.data.success&&(this.ElMessage(this.$t("elMessages.password_saved")),e.newPassword="");case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openAddUser:function(){this.addPopupVisible=!0},removeUser:function(t){this.$store.dispatch("removeUser",t)}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("getUsers");case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},X=W,Z=(s("d45d"),Object(S["a"])(X,B,q,!1,null,null,null)),tt=Z.exports,et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-lang-wr"},[e("div",{staticClass:"settings-lang"},[e("div",{staticClass:"settings-lang__label"},[t._v("\n\t\t\t"+t._s(t.$t("settingsLang.select_language"))+"\n\t\t")]),e("div",{staticClass:"settings-lang-list"},[e("List",{scopedSlots:t._u([{key:"selected",fn:function(){return[e("ListOption",{attrs:{current:!0}},[t._v(t._s(t.$store.getters.langStr))])]},proxy:!0}])},t._l(t.$store.getters.langList,(function(s,i){return e("ListOption",{key:i,on:{select:function(e){return t.changeLang(i)}}},[t._v(t._s(s))])})),1)],1)])])},st=[],it={methods:{changeLang:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=JSON.parse(this.$cookie.get("user")),s.language=e,this.$cookie.set("user",JSON.stringify(s),12),t.next=5,this.$store.dispatch("setLanguage",{language:e,id:this.$store.state.users.authUser.id});case 5:this.$store.commit("setLanguage",e);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},mounted:function(){this.$store.state.users.authUser.is_admin||this.$store.commit("showLoader",!1)}},nt=it,at=(s("0b95"),Object(S["a"])(nt,et,st,!1,null,null,null)),rt=at.exports,ot=s("25bd"),lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-groups__wrapper"},[e("div",{staticClass:"settings-groups__head"},[e("button",{staticClass:"el-btn",on:{click:t.addGroup}},[t._v(t._s(t.$t("createGroup")))])]),e("div",{staticClass:"settings-groups__content"},[e("ul",{staticClass:"settings-groups__groups-content"},t._l(t.$store.state.groups.groups,(function(s,i){return e("li",{staticClass:"settings-groups__group-wrapper"},[e("div",{staticClass:"settings-groups__group-head"},[e("div",{staticClass:"settings-groups__group-info"},[e("div",{staticClass:"settings-groups__group-name",class:{disabled:"Administrators"==s.name},attrs:{contenteditable:"true"},on:{blur:function(e){return t.changeGroupName(e,s)}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(s.name)+"\n\t\t\t\t\t\t")]),e("div",{staticClass:"settings-groups__member-info"},[t._v(t._s(t.$t("members",{count:s.members.length})))])]),"Administrators"!=s.name?e("button",{staticClass:"settings-groups__remove-btn",on:{click:function(e){return t.removeGroup(s)}}},[t._v(t._s(t.$t("remove")))]):t._e()]),e("ul",{staticClass:"settings-groups__members"},[t._l(s.members,(function(i,n){return e("li",{staticClass:"settings-groups__member"},[e("div",{staticClass:"settings-groups__member-name-wrapper"},[e("img",{staticClass:"settings-groups__avatar",attrs:{src:i.avatar,alt:""}}),e("div",{staticClass:"settings-groups__member-name"},[t._v(t._s(i.name))])]),e("button",{staticClass:"settings-groups__remove-btn",on:{click:function(e){return t.removeMemberFromGroup(s.id,i.id)}}},[t._v(t._s(t.$t("remove")))])])})),e("li",{staticClass:"settings-groups__add-member-wrapper"},[e("div",{staticClass:"settings-groups__icon"}),e("button",{staticClass:"settings-groups__add-member-btn",on:{click:function(e){return t.showAddMemberPopup(s.id)}}},[t._v(t._s(t.$t("addMember")))])])],2)])})),0)]),e("StoreSelect",{attrs:{visible:t.showPopupAddMember,settings:{searchStr:"$store.state.settings.users"}},on:{selectItem:t.selectUser,"update:visible":function(e){t.showPopupAddMember=e}}})],1)},ct=[],ut={components:{StoreSelect:E},data:function(){return{showPopupAddMember:!1,addGroupId:!1}},methods:{removeGroup:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("removeGroup",e.id);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),removeMemberFromGroup:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("removeGroupUser",{userId:s,groupId:e});case 2:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),addGroup:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("addGroup");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showAddMemberPopup:function(t){this.addGroupId=t,this.showPopupAddMember=!0},selectUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("addUser",{user:e,groupId:this.addGroupId});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getGroups:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getGroups");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeGroupName:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("setGroupName",{id:s.id,name:e.target.innerText});case 2:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}()},mounted:function(){this.getGroups(),this.$store.dispatch("getUsers")}},dt=ut,pt=(s("869a"),Object(S["a"])(dt,lt,ct,!1,null,null,null)),gt=pt.exports,mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"el-api"},[e("div",{staticClass:"el-api-tokens"},[e("h2",{staticClass:"el-api__title el-api-tokens__title"},[t._v("Tokens")]),t._l(t.tokens,(function(s,i){return e("div",{staticClass:"el-api-token"},[e("div",{staticClass:"el-api-token__info"},[e("div",{staticClass:"el-api-token-value"},[t._v(t._s(s.value))]),e("div",{staticClass:"el-api-token-date"},[t._v("Generated "+t._s(s.date))])]),e("div",{staticClass:"el-api-token__actions"},[t.groups&&t.groups.length?e("Select",{staticClass:"select--simple",attrs:{defaultText:s.group_name}},t._l(t.groups,(function(i){return e("SelectOption",{key:i.code,nativeOn:{click:function(e){return t.changeTokenGroup(s.id,i.id)}}},[t._v(t._s(i.name)+"\n\t\t\t\t")])})),1):t._e(),e("div",{staticClass:"el-api-token-remove",on:{click:function(e){return t.removeToken(s.id)}}},[t._v(t._s(t.$t("remove")))])],1)])})),e("div",{staticClass:"el-api-tokens-add",on:{click:t.createToken}},[e("span",{staticClass:"el-api-tokens-add__icon"},[e("svg",{attrs:{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("line",{attrs:{x1:"0.5",y1:"4.5",x2:"8.5",y2:"4.5",stroke:"#677387","stroke-opacity":"0.4","stroke-linecap":"round"}}),e("line",{attrs:{x1:"4.5",y1:"8.5",x2:"4.5",y2:"0.5",stroke:"#C2C7CF","stroke-linecap":"round"}})])]),t._v("\n\t\t\tGenerate Token\n\t\t")])],2),e("div",{staticClass:"el-api-docs"},[e("div",{staticClass:"el-api-docs__head"},[e("h2",{staticClass:"el-api__title el-api__title--no-border"},[t._v("API Docs")]),e("Select",{staticClass:"select--simple",attrs:{defaultText:t.selectedTable.code}},t._l(t.tables,(function(s){return e("SelectOption",{key:s.code,nativeOn:{click:function(e){return t.selectTableForApi(s)}}},[t._v(t._s(s.code))])})),1)],1),t._l(t.docs,(function(s,i){return e("div",{staticClass:"el-api-doc"},[e("div",{staticClass:"el-api-doc-header"},[e("div",{staticClass:"el-api-doc__title"},[t._v(t._s(i))]),e("div",{staticClass:"el-api-doc-tabs"},[e("div",{staticClass:"el-api-doc-tab",class:{active:"code"===s.tab},on:{click:function(e){return t.changeDocBlockTab(i,"code")}}},[t._v("Code")]),e("div",{staticClass:"el-api-doc-tab",class:{active:"response"===s.tab},on:{click:function(e){return t.changeDocBlockTab(i,"response")}}},[t._v("Response")])])]),e("div",{staticClass:"el-api-code"},[e("div",{staticClass:"el-api-code-copy",on:{click:function(e){return t.copyText(s[s.tab])}}},[t._v("copy")]),s.tab&&s[s.tab]?e("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[e("pre",[e("code",{staticClass:"bash"},[t._v(t._s(s[s.tab]))])])]):t._e()])])}))],2)])},ft=[],ht=s("768b");s("ffc1");function vt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function _t(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(s),!0).forEach((function(e){Object(l["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):vt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var bt={data:function(){return{docs:{get:{tab:"code"},insert:{tab:"code"},delete:{tab:"code"},update:{tab:"code"}},selectedTable:{}}},computed:_t({},Object(m["c"])({tables:function(t){return t.tables.tables},groups:function(t){return t.groups.groups},tokens:function(t){return t.groups.tokens},apiDocs:function(t){return t.groups.apiDocs}})),methods:{changeTokenGroup:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("changeToken",{tokenId:e,groupId:s});case 2:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),removeToken:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("removeToken",{tokenId:e});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),createToken:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("createToken",{groupId:this.groups[0].id});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeDocBlockTab:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.docs[e]){t.next=2;break}return t.abrupt("return");case 2:return this.docs[e].tab="",t.next=5,setTimeout((function(){}),1);case 5:this.docs[e].tab=s;case 6:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),selectTableForApi:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.selectedTable=e,t.next=3,this.setApiDocs();case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setApiDocs:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,i,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getApiDocs",{table_name:this.selectedTable.code});case 2:for(e=0,s=Object.entries(this.apiDocs);e<s.length;e++)i=Object(ht["a"])(s[e],2),n=i[0],a=i[1],this.docs[n]=_t(_t({},this.docs[n]),a),this.changeDocBlockTab(n,this.docs[n].tab);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),copyText:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.selectTableForApi(this.tables[0]),this.groups.length){t.next=4;break}return t.next=4,this.$store.dispatch("getGroups");case 4:if(this.tokens.length){t.next=7;break}return t.next=7,this.$store.dispatch("getTokens");case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Ct=bt,wt=(s("7b0a"),Object(S["a"])(Ct,mt,ft,!1,null,null,null)),St=wt.exports;function yt(t,e){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=kt(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw a}}}}function kt(t,e){if(t){if("string"==typeof t)return $t(t,e);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?$t(t,e):void 0}}function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=Array(e);s<e;s++)i[s]=t[s];return i}var xt={components:{SettingsTable:V,SettingsUser:tt,SettingsLang:rt,MobileBurger:ot["a"],SettingsGroups:gt,SettingsApi:St},metaInfo:{title:"Settings"},data:function(){return{tabs:[{name:this.$t("tables"),active:!0},{name:this.$t("users"),active:!1},{name:this.$t("languages"),active:!1,noAdminRights:!0},{name:this.$t("groups"),active:!1},{name:"API&Tokens",active:!1}],activeTab:this.$t("tables")}},methods:{setActiveTab:function(t){this.clearAllTabsActive(),t.active=!0,this.activeTab=t.name},clearAllTabsActive:function(){var t,e=yt(this.tabs);try{for(e.s();!(t=e.n()).done;){var s=t.value;s.active=!1}}catch(i){e.e(i)}finally{e.f()}}},watch:{"$store.getters.lang":function(){this.tabs[0].name=this.$t("tables"),this.tabs[1].name=this.$t("users"),this.tabs[2].name=this.$t("languages"),this.setActiveTab(this.tabs[this.tabs.length-1])}},mounted:function(){this.$store.commit("showLoader",!0),this.$store.state.users.authUser.is_admin||this.setActiveTab(this.tabs[2])}},Tt=xt,Ot=(s("27a7"),Object(S["a"])(Tt,i,n,!1,null,null,null));e["default"]=Ot.exports},d45d:function(t,e,s){"use strict";s("db42")},d795:function(t,e,s){},db42:function(t,e,s){},dee1:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-popup-row-params"},[e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmFile.settings.folder_for_save"))+"\n\t\t\t"),t.errors.savePath?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.savePath.message))]):t._e()]),e("div",{staticClass:"popup__field-input em-file__settings-path"},[e("span",[t._v(t._s(t.settings.rootPath))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.localSettings.savePath,expression:"localSettings.savePath"}],attrs:{type:"text",placeholder:t.$t("fieldEmFile.settings.folder_for_save")},domProps:{value:t.localSettings.savePath},on:{change:t.checkPath,input:function(e){e.target.composing||t.$set(t.localSettings,"savePath",e.target.value)}}})])]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmFile.settings.resolutions"))+"\n\t\t\t"),t.errors.nodeFieldCode?e("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeFieldCode.message))]):t._e()])]),e("div",{staticClass:"em-file__s-resolutions"},[e("div",{staticClass:"em-file__s-resolution"},[e("div",{staticClass:"em-file__s-code"},[t._v(t._s(t.$t("code")))]),e("div",{staticClass:"em-file__s-width"},[t._v(t._s(t.$t("fieldEmFile.settings.width")))]),e("div",{staticClass:"em-file__s-height"},[t._v(t._s(t.$t("fieldEmFile.settings.height")))]),e("div",{staticClass:"em-file__s-remove"})]),t._l(t.localSettings.resolutions,(function(s,i){return e("div",{key:i,staticClass:"em-file__s-resolution"},[e("div",{staticClass:"em-file__s-code"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.code,expression:"listItem.code"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("code"),disabled:s.required},domProps:{value:s.code},on:{input:function(e){e.target.composing||t.$set(s,"code",e.target.value)}}})]),e("div",{staticClass:"em-file__s-width"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:s.width,expression:"listItem.width",modifiers:{number:!0}}],staticClass:"el-inp-noborder",attrs:{type:"number",placeholder:t.$t("fieldEmFile.settings.width")},domProps:{value:s.width},on:{input:function(e){e.target.composing||t.$set(s,"width",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"em-file__s-height"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:s.height,expression:"listItem.height",modifiers:{number:!0}}],staticClass:"el-inp-noborder",attrs:{type:"number",placeholder:t.$t("fieldEmFile.settings.height")},domProps:{value:s.height},on:{input:function(e){e.target.composing||t.$set(s,"height",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),s.required?t._e():e("div",{staticClass:"em-file__s-remove"},[e("div",{staticClass:"em-file__s-remove-button",on:{click:function(e){return e.stopPropagation(),t.removeResolution(i)}}},[e("svg",{attrs:{width:"12",height:"12"}},[e("use",{attrs:{"xlink:href":"#plus-white"}})])])]),t.errors.resolutions&&t.errors.resolutions[i]?e("small",{staticClass:"em-file__s-error"},[t._v(t._s(t.errors.resolutions[i].message))]):t._e()])}))],2),e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.addResolution()}}},[t._v(t._s(t.$t("fieldEmFile.settings.add_resolution")))]),e("div",{staticClass:"popup__buttons"},[e("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),e("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])])},n=[],a=(s("96cf"),s("3b8d")),r={props:["settings"],data:function(){return{localSettings:{savePath:"element/public/upload/",resolutions:[{code:"small",width:50,height:50,required:1}]},newResolution:{code:"",width:0,height:0},errors:{},errorPath:!1}},methods:{cancel:function(){this.$emit("cancel")},save:function(){this.validate()&&this.$emit("save",this.localSettings)},validate:function(){var t=!1;for(var e in this.localSettings)0!=this.localSettings[e]&&""!=this.localSettings[e]||(this.$set(this.errors,e,{message:"Field is required"}),t=!0);!1!==this.errorPath&&(this.$set(this.errors,"savePath",{message:this.errorPath}),t=!0);var s=[];for(var e in this.localSettings.resolutions){var i=this.localSettings.resolutions[e];""!=i.code&&(i.width>0||i.height>0)||(""==i.code?s[e]={message:"Code can't be empty"}:this.checkCodeUnique(i.code,e)?s[e]={message:"Height or width must be filled"}:s[e]={message:"Code must be unique"})}return 0==s.length||(t=!0,this.$set(this.errors,"resolutions",s)),!t},checkCodeUnique:function(t,e){for(var s in this.localSettings.resolutions)if(s!=e&&this.localSettings.resolutions[s].code==t)return!1;return!0},checkPath:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.localSettings.savePath){t.next=2;break}return t.abrupt("return");case 2:return e=s("4328"),i=e.stringify({path:this.localSettings.savePath}),t.next=5,this.$axios({method:"POST",url:"/field/em_file/index/checkPath/",data:i});case 5:if(n=t.sent,1!=n.data.success){t.next=9;break}return this.errorPath=!1,t.abrupt("return");case 9:this.errorPath=n.data.message;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),removeResolution:function(t){this.$delete(this.localSettings.resolutions,t),this.errors={}},addResolution:function(){this.localSettings.resolutions.push(Object.assign({},this.newResolution))}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&this.$set(this.localSettings,t,this.settings[t])}},o=r,l=(s("c260"),s("2877")),c=Object(l["a"])(o,i,n,!1,null,null,null);e["default"]=c.exports},efd5:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-popup-row-params"},[e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v(t._s(t.$t("min")))]),e("div",{staticClass:"popup__field-input"},[e("div",{staticClass:"em-int__field-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.localSettings.min.value,expression:"localSettings.min.value"}],staticClass:"el-inp",attrs:{type:"number",disabled:!t.localSettings.min.enabled},domProps:{value:t.localSettings.min.value},on:{input:function(e){e.target.composing||t.$set(t.localSettings.min,"value",e.target.value)}}}),e("Checkbox",{attrs:{checked:t.localSettings.min.enabled},on:{"update:checked":function(e){return t.$set(t.localSettings.min,"enabled",e)}}})],1)])]),e("div",{staticClass:"popup__field"},[e("div",{staticClass:"popup__field-name"},[t._v(t._s(t.$t("max")))]),e("div",{staticClass:"popup__field-input"},[e("div",{staticClass:"em-int__field-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.localSettings.max.value,expression:"localSettings.max.value"}],staticClass:"el-inp",attrs:{type:"number",disabled:!t.localSettings.max.enabled},domProps:{value:t.localSettings.max.value},on:{input:function(e){e.target.composing||t.$set(t.localSettings.max,"value",e.target.value)}}}),e("Checkbox",{attrs:{checked:t.localSettings.max.enabled},on:{"update:checked":function(e){return t.$set(t.localSettings.max,"enabled",e)}}})],1)])]),e("div",{staticClass:"popup__buttons"},[e("button",{staticClass:"el-gbtn",on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),e("button",{staticClass:"el-btn",on:{click:t.save}},[t._v(t._s(t.$t("save_settings")))])])])},n=[],a={props:["settings"],data:function(){return{localSettings:{min:{value:0,enabled:!1},max:{value:0,enabled:!1}}}},mounted:function(){for(var t=["min","max"],e=0,s=t;e<s.length;e++){var i=s[e];"undefined"!=typeof this.settings[i]&&(this.localSettings[i].value=+this.settings[i].value||0,this.localSettings[i].enabled=!!+this.settings[i].enabled)}},methods:{validate:function(){return!this.localSettings.min.enabled||!this.localSettings.max.enabled||this.localSettings.min.value<=this.localSettings.max.value},save:function(){if(this.validate())return this.$emit("save",{max:{enabled:+this.localSettings.max.enabled,value:this.localSettings.max.value},min:{enabled:+this.localSettings.min.enabled,value:this.localSettings.min.value}});this.ElMessage.error(this.$t("fieldEmInteger.settings.min_max"))},cancel:function(){this.$emit("cancel")}}},r=a,o=(s("627e"),s("2877")),l=Object(o["a"])(r,i,n,!1,null,null,null);e["default"]=l.exports},f7dd:function(t,e,s){},f9d4:function(t,e,s){}}]);
//# sourceMappingURL=chunk-596f7e0c.face8ae0.js.map