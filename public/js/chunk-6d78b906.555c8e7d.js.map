{"version":3,"sources":["webpack:///./src/components/fields/em_matrix/Field.vue","webpack:///src/components/fields/em_matrix/Field.vue","webpack:///./src/components/fields/em_matrix/Field.vue?8802","webpack:///./src/components/fields/em_matrix/Field.vue?ec3f","webpack:///./src/components/popups/DetailPopup.vue","webpack:///src/components/popups/DetailPopup.vue","webpack:///./src/components/popups/DetailPopup.vue?3f9d","webpack:///./src/components/popups/DetailPopup.vue?5ed4","webpack:///./src/components/popups/DetailPopup.vue?7451","webpack:///./src/components/fields/em_matrix/Field.vue?fefe","webpack:///./src/mixins/detailFunctions.js","webpack:///./src/components/tviews/Detail.vue","webpack:///src/components/tviews/Detail.vue","webpack:///./src/components/tviews/Detail.vue?db9f","webpack:///./src/components/tviews/Detail.vue?bbe1","webpack:///./src/components/tviews/Detail.vue?b150"],"names":["render","_vm","this","_c","_self","staticClass","view","fieldValue","matrixValue","length","_l","headFields","fieldObj","_v","_s","name","key","localValue","tableRow","rowIndex","columnItem","colKey","getColumnSettings","visibility","attrs","settings","code","value","$store","getters","fieldSettings","finalTableCode","_e","on","$event","popupForEditMatrixColumn","$t","removeMatrixElement","tableCode","selectedElement","popupForCreateMatrixElement","showDetail","detailTableCode","detailName","detailTableId","currentElement","savePopupMatrixElement","createPopupMatrixElement","removePopupMatrixElement","staticRenderFns","props","components","DetailPopup","MainField","mixins","detailFunctions","data","computed","detailElement","state","tables","methods","updateMatrixTableElement","element","_step","primaryKeyCode","getPrimaryKeyCode","_iterator","_createForOfIteratorHelper","entries","s","n","done","_step$value","_slicedToArray","index","err","e","f","createMatrixTableElement","$set","push","removeMatrixTableElement","_step2","_iterator2","_step2$value","splice","row","bindDefaultColumnValues","table","getTable","column","columns","finalTableField","_objectSpread","primaryKey","result","success","ElMessage","lastid","error","removeElement","colCode","_step3","_iterator3","columnsSettings","setHeadLine","hedField","mounted","component","isPopupVisible","id","updatedElAt","cancel","openDetail","saveDetailElement","removeDetailElement","createDetailElement","Detail","Date","get","visible","set","val","$emit","_saveDetailElement","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","saveElement","sent","abrupt","message","apply","concat","stop","_x","arguments","_createDetailElement","_callee2","_context2","createElement","_x2","_removeDetailElement","_callee3","_context3","_x3","_saveElement","dispatch","_createElement","setValues","fieldCode","insertData","t0","keys","t1","qs","stringify","insert","values","$axios","post","_removeElement","delete","where","operation","fields","confirmDeleteButtons","removeMessage","onConfirmRemove","onCancelRemove","class","isShowSidebar","confirmRemove","columnCode","require","columnEmSettings","type_info","iconPath","getColumnName","em","changeFieldValue","MobileBurger","mapGetters","fieldNames","confirm","text","watch","newId","selectElement","Object","assign","getTableFieldsNames","_selectElement","requestParams","select","order","from","getColumns","Error","$modal","show","remove","hide"],"mappings":"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","file":"js/chunk-6d78b906.555c8e7d.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"em-matrix\"},[(_vm.view=='detail')?_c('div',{staticClass:\"em-matrix-table\"},[(_vm.fieldValue.matrixValue.length)?_c('table',[_c('tr',[_vm._l((_vm.headFields),function(fieldObj){return _c('th',[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(fieldObj.name)+\"\\n\\t\\t\\t\\t\\t\"),_c('small',[_vm._v(_vm._s(fieldObj.key))])])}),_c('th')],2),_vm._l((_vm.localValue.matrixValue),function(tableRow,rowIndex){return _c('tr',[_vm._l((tableRow),function(columnItem,colKey){return (_vm.getColumnSettings(colKey).visibility == 'true')?_c('td',[_c('MainField',{attrs:{\"mode\":\"view\",\"view\":\"detail\",\"fieldName\":_vm.getColumnSettings(colKey).settings.code,\"params\":{\n\t\t\t\t\t\t\t\tvalue     : columnItem,\n\t\t\t\t\t\t\t\tsettings  : _vm.$store.getters.getColumnSettings(_vm.fieldSettings.finalTableCode, colKey, columnItem)\n\t\t\t\t\t\t\t}}})],1):_vm._e()}),_c('td',{staticClass:\"em-matrix-table__edit-btns\"},[_c('div',{staticClass:\"em-matrix-field__hover-btns\"},[_c('div',{staticClass:\"em-matrix-field em-matrix-field__edit\",on:{\"click\":function($event){return _vm.popupForEditMatrixColumn(tableRow, rowIndex)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.$t('edit'))+\"\\n\\t\\t\\t\\t\\t\\t\")]),_c('div',{staticClass:\"em-matrix-field em-matrix-field__remove\",on:{\"click\":function($event){return _vm.removeMatrixElement({tableCode:_vm.fieldSettings.finalTableCode, selectedElement: tableRow})}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.$t('remove'))+\"\\n\\t\\t\\t\\t\\t\\t\")])])])],2)})],2):_vm._e(),_c('div',{staticClass:\"em-matrix-row-add\"},[_c('button',{on:{\"click\":function($event){return _vm.popupForCreateMatrixElement()}}},[_c('div',{staticClass:\"em-matrix-row-add__icon\"},[_c('svg',{attrs:{\"width\":\"9\",\"height\":\"9\"}},[_c('use',{attrs:{\"xlink:href\":\"#plus-gray\"}})])]),_c('div',{staticClass:\"em-matrix-row-add__text\"},[_vm._v(\" New Element\")])])])]):_c('div',[_c('span',{staticClass:\"el-empty\"},[_vm._v(\"Matrix field\")])]),_c('DetailPopup',{attrs:{\"visible\":_vm.showDetail,\"tableCode\":_vm.detailTableCode,\"name\":_vm.detailName,\"id\":_vm.detailTableId,\"element\":_vm.currentElement},on:{\"update:visible\":function($event){_vm.showDetail=$event},\"saveElement\":_vm.savePopupMatrixElement,\"createElement\":_vm.createPopupMatrixElement,\"removeElement\":_vm.removePopupMatrixElement}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"em-matrix\">\n\t\t<div class=\"em-matrix-table\" v-if=\"view=='detail'\">\n\t\t\t<table v-if=\"fieldValue.matrixValue.length\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th v-for=\"fieldObj of headFields\">\n\t\t\t\t\t\t{{ fieldObj.name }}\n\t\t\t\t\t\t<small>{{ fieldObj.key }}</small>\n\t\t\t\t\t</th>\n\t\t\t\t\t<th></th>\n\t\t\t\t</tr>\n\t\t\t\t<tr v-for=\"(tableRow, rowIndex) in localValue.matrixValue\">\n\t\t\t\t\t<td v-for=\"(columnItem,colKey) in tableRow\" v-if=\"getColumnSettings(colKey).visibility == 'true'\">\n\t\t\t\t\t\t\t<MainField\n\t\t\t\t\t\t\t\tmode=\"view\"\n\t\t\t\t\t\t\t\tview=\"detail\"\n\t\t\t\t\t\t\t\t:fieldName=\"getColumnSettings(colKey).settings.code\"\n\t\t\t\t\t\t\t\t:params=\"{\n\t\t\t\t\t\t\t\t\tvalue     : columnItem,\n\t\t\t\t\t\t\t\t\tsettings  : $store.getters.getColumnSettings(fieldSettings.finalTableCode, colKey, columnItem)\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"em-matrix-table__edit-btns\">\n\t\t\t\t\t\t<div class=\"em-matrix-field__hover-btns\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"em-matrix-field em-matrix-field__edit\"\n\t\t\t\t\t\t\t\t@click=\"popupForEditMatrixColumn(tableRow, rowIndex)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{$t('edit')}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"em-matrix-field em-matrix-field__remove\"\n\t\t\t\t\t\t\t\t@click=\"removeMatrixElement({tableCode:fieldSettings.finalTableCode, selectedElement: tableRow})\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{$t('remove')}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t\t<div class=\"em-matrix-row-add\">\n\t\t\t\t<button @click=\"popupForCreateMatrixElement()\">\n\t\t\t\t\t<div class=\"em-matrix-row-add__icon\">\n\t\t\t\t\t\t<svg width=\"9\" height=\"9\">\n\t\t\t\t\t\t\t<use xlink:href=\"#plus-gray\"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"em-matrix-row-add__text\"> New Element</div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else>\n\t\t\t<span class=\"el-empty\">Matrix field</span>\n\t\t</div>\n\t\t<DetailPopup\n\t\t\t:visible.sync=\"showDetail\"\n\t\t\t:tableCode=\"detailTableCode\"\n\t\t\t:name=\"detailName\"\n\t\t\t:id=\"detailTableId\"\n\t\t\t:element=\"currentElement\"\n\t\t\t@saveElement=\"savePopupMatrixElement\"\n\t\t\t@createElement=\"createPopupMatrixElement\"\n\t\t\t@removeElement=\"removePopupMatrixElement\"\n\t\t></DetailPopup>\n\t</div>\n</template>\n<script>\n\timport MainField from '@/components/fields/MainField.vue';\n\timport detailFunctions from '@/mixins/detailFunctions.js';\n\timport DetailPopup from '@/components/popups/DetailPopup';\n\texport default\n\t{\n\t\tprops: ['fieldValue','fieldSettings','mode', 'view'],\n\t\tcomponents:{DetailPopup,MainField},\n\t\tmixins: [detailFunctions],\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tshowDetail     : false,\n\t\t\t\tdetailTableCode: false,\n\t\t\t\tdetailTableId  : false,\n\t\t\t\tdetailName     : false,\n\t\t\t\tcurrentElement : false,\n\t\t\t\theadFields : [],\n\t\t\t\tlocalValue: [],\n\t\t\t};\n\t\t},\n\t\tcomputed:\n\t\t{\n\t\t\tdetailElement()\n\t\t\t{\n\t\t\t\treturn this.$store.state.tables.selectedElement;\n\t\t\t},\n\t\t},\n\t\tmethods:\n\t\t{\n\t\t\tupdateMatrixTableElement(element)\n\t\t\t{\n\t\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(this.fieldSettings.finalTableCode);\n\n\t\t\t\tfor (let [index, matrixValue] of this.fieldValue.matrixValue.entries())\n\t\t\t\t\tif (matrixValue[primaryKeyCode] == element[primaryKeyCode])\n\t\t\t\t\t\treturn this.fieldValue.matrixValue[index] = element;\n\t\t\t},\n\n\t\t\tcreateMatrixTableElement(element)\n\t\t\t{\n\t\t\t\tif (typeof this.fieldValue.matrixValue == 'undefined')\n\t\t\t\t\tthis.$set(this.fieldValue, 'matrixValue', []);\n\n\t\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(this.fieldSettings.finalTableCode);\n\t\t\t\tthis.fieldValue.matrixValue.push(element);\n\t\t\t},\n\n\t\t\tremoveMatrixTableElement(element)\n\t\t\t{\n\t\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(this.fieldSettings.finalTableCode);\n\n\t\t\t\tfor (let [index, matrixValue] of this.localValue.matrixValue.entries())\n\t\t\t\t\tif (matrixValue[primaryKeyCode] == element[primaryKeyCode])\n\t\t\t\t\t\t\treturn this.localValue.matrixValue.splice(index, 1);\n\t\t\t},\n\n\t\t\tpopupForEditMatrixColumn(row, rowIndex)\n\t\t\t{\n\t\t\t\tthis.currentElement  = false;\n\t\t\t\tlet primaryKeyCode   = this.$store.getters.getPrimaryKeyCode(this.fieldSettings.finalTableCode);\n\t\t\t\tthis.detailTableId   = row[primaryKeyCode];\n\t\t\t\tthis.detailTableCode = this.fieldSettings.finalTableCode;\n\t\t\t\tthis.detailName      = false;\n\t\t\t\tthis.showDetail      = true;\n\t\t\t},\n\n\t\t\tbindDefaultColumnValues()\n\t\t\t{\t\n\t\t\t\tthis.currentElement = [];\n\t\t\t\tlet table = this.$store.getters.getTable(this.fieldSettings.finalTableCode);\n\t\t\t\tfor (let column in table.columns)\n\t\t\t\t\tthis.currentElement[column] = '';\n\t\t\t\tthis.currentElement[this.fieldSettings.finalTableField] = [{...this.fieldSettings.primaryKey, name: this.fieldSettings.primaryKey.value}] ;\n\t\t\t},\n\n\t\t\tpopupForCreateMatrixElement()\n\t\t\t{\n\t\t\t\tthis.bindDefaultColumnValues();\n\t\t\t\tthis.detailTableCode = this.fieldSettings.finalTableCode;\n\t\t\t\tthis.detailName      = 'tableAddElement';\n\t\t\t\tthis.showDetail      = true;\n\t\t\t},\n\n\t\t\tsavePopupMatrixElement(data, result)\n\t\t\t{\n\t\t\t\tif (result.data.success)\n\t\t\t\t{\n\t\t\t\t\tthis.updateMatrixTableElement(data.selectedElement);\n\t\t\t\t\tthis.ElMessage(this.$t('elMessages.element_saved'));\n\t\t\t\t\tthis.showDetail = false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcreatePopupMatrixElement(data, result)\n\t\t\t{\n\t\t\t\tif(result.data.success == true)\n\t\t\t\t{\n\t\t\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(this.fieldSettings.finalTableCode);\n\t\t\t\t\tdata.selectedElement[primaryKeyCode] = result.data.lastid;\n\t\t\t\t\tthis.createMatrixTableElement(data.selectedElement);\n\t\t\t\t\tthis.ElMessage(this.$t('elMessages.element_created'));\n\t\t\t\t\tthis.showDetail = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthis.ElMessage.error(this.$t('elMessages.cant_create_element'));\n\t\t\t},\n\n\t\t\tremoveMatrixElement(data)\n\t\t\t{\n\t\t\t\tthis.removeElement(data);\n\t\t\t\tthis.showDetail = false;\n\t\t\t\tthis.ElMessage(this.$t('elMessages.element_removed'));\n\t\t\t\tthis.removeMatrixTableElement(data.selectedElement);\n\t\t\t},\n\n\t\t\tremovePopupMatrixElement(data, result)\n\t\t\t{\n\t\t\t\tthis.showDetail = false;\n\t\t\t\tthis.ElMessage(this.$t('elMessages.element_removed'));\n\t\t\t\tthis.removeMatrixTableElement(data.selectedElement);\n\t\t\t},\n\n\t\t\tgetColumnSettings(colCode)\n\t\t\t{\n\t\t\t\tfor (const column of this.fieldSettings.columnsSettings)\n\t\t\t\t{\n\t\t\t\t\tcolumn.settings = this.$store.getters.getColumnSettings(this.fieldSettings.finalTableCode, colCode, false);\n\t\t\t\t\tif(column.key == colCode)\n\t\t\t\t\t{\n\t\t\t\t\t\tcolumn.name = (column.name != '')?column.name:column.key;\n\t\t\t\t\t\treturn column;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\tsetHeadLine()\n\t\t\t{\n\t\t\t\tif (typeof this.fieldValue.matrixValue == 'undefined' || !this.fieldValue.matrixValue.length)\n\t\t\t\t\treturn;\n\n\t\t\t\tfor (let code in this.fieldValue.matrixValue[0])\n\t\t\t\t{\n\t\t\t\t\tlet hedField = this.getColumnSettings(code);\n\t\t\t\t\tif(hedField.visibility != \"true\")\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tthis.headFields.push(hedField);\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\t\tmounted()\n\t\t{\n\t\t\tif(this.view != 'table')\n\t\t\t\tthis.setHeadLine();\n\n\t\t\tthis.localValue = this.fieldValue;\n\t\t}\n\t};\n</script>\n<style lang=\"scss\">\n\t.em-matrix-field__hover-btns\n\t{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.detail-field-box .em-matrix\n\t{\n\t\twidth: 100vw;\n\t\tmax-width: 100vw;\n\t\tmargin-left: -14px;\n\t\toverflow: scroll;\n\t}\n\t.em-matrix-table__edit-btns\n\t{\n\t\tposition: sticky;\n\t\tright:0px;\n\t\tbackground:#fff;\n\t\topacity: 0;\n\t}\n\ttr:hover .em-matrix-table__edit-btns{opacity: 1; }\n\t.em-matrix-field__edit, .em-matrix-field__remove\n\t{\n\t\tpadding-left: 14px;\n\t\tborder: none;\n\t\tcolor: #677387;\n\t\tcursor: pointer;\n\t\ttransition: all .125s;\n\t}\n\t.em-matrix-field__edit {padding-left: 0px; }\n\t.em-matrix-field__remove {color: rgba(208, 18, 70, 0.7); }\n\t.em-matrix-row-add\n\t{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding-left: 13px;\n\t\tmin-height: 50px;\n\t\tbutton\n\t\t{\n\t\t\tbackground: #fff;\n\t\t\tborder: 0px;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 3px;\n\t\t\t&:hover\n\t\t\t{\n\t\t\t\tcursor: pointer;\n\t\t\t\tbackground:rgba(103, 115, 135, 0.2);\n\t\t\t}\n\t\t}\n\t}\n\t.em-matrix-row-add__icon\n\t{\n\t\tline-height: 0;\n\t\tfont-size: 0;\n\t\tmargin-right: 6px;\n\t}\n\t.em-matrix-row-add__text\n\t{\n\t\tcolor: #677387;\n\t\tfont-size: 10px;\n\t}\n\n\t.em-matrix-table\n\t{\n\t\toverflow: scroll;\n\t\twidth: 100%;\n\t\ttable\n\t\t{\n\t\t\twidth:100%;\n\t\t\tfont-size: 12px;\n\t\t\tborder-collapse: collapse;\n\t\t\tmargin:-1px;\n\t\t\tth\n\t\t\t{\n\t\t\t\ttext-transform:capitalize;\n\t\t\t\tfont-weight: normal;\n\t\t\t\tsmall{\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tcolor: rgba(103, 115, 135, 0.4);\n\t\t\t\t\tmargin-top: 3px;\n\t\t\t\t\ttext-transform: lowercase;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttd,th\n\t\t\t{\n\t\t\t\ttext-align: left;\n\t\t\t\tborder:1px solid #efefef;\n\t\t\t\tpadding:0px 0px 0px 15px;\n\t\t\t\tmin-width: 200px;\n\t\t\t\tmax-width: 400px;\n\t\t\t\tmin-height: 50px;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: visible;\n\t\t\t\theight: 50px;\n\t\t\t\ttext-overflow:ellipsis;\n\t\t\t\tposition: relative;\n\t\t\t\t&:last-child{border-right: 0px;}\n\t\t\t}\n\t\t\tth{padding: 13px 15px;}\n\t\t}\n\t}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Field.vue?vue&type=template&id=0157e9f0\"\nimport script from \"./Field.vue?vue&type=script&lang=js\"\nexport * from \"./Field.vue?vue&type=script&lang=js\"\nimport style0 from \"./Field.vue?vue&type=style&index=0&id=0157e9f0&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"detail-popup\"},[_c('Popup',{attrs:{\"visible\":_vm.isPopupVisible},on:{\"update:visible\":function($event){_vm.isPopupVisible=$event}}},[_c('Detail',{attrs:{\"tableCode\":_vm.tableCode,\"name\":_vm.name,\"id\":_vm.id,\"element\":_vm.element,\"updatedElAt\":_vm.updatedElAt},on:{\"update:updatedElAt\":function($event){_vm.updatedElAt=$event},\"update:updated-el-at\":function($event){_vm.updatedElAt=$event},\"cancel\":_vm.cancel,\"openDetail\":_vm.openDetail,\"saveElement\":_vm.saveDetailElement,\"removeElement\":_vm.removeDetailElement,\"createElement\":_vm.createDetailElement}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"detail-popup\">\n\t\t<Popup\n\t\t\t:visible.sync=\"isPopupVisible\"\n\t\t>\n\t\t\t<Detail\n\t\t\t\t:tableCode=\"tableCode\"\n\t\t\t\t:name=\"name\"\n\t\t\t\t:id=\"id\"\n\t\t\t\t:element=\"element\"\n\t\t\t\t:updatedElAt.sync=\"updatedElAt\"\n\t\t\t\t@cancel=\"cancel\"\n\t\t\t\t@openDetail=\"openDetail\"\n\t\t\t\t@saveElement=\"saveDetailElement\"\n\t\t\t\t@removeElement=\"removeDetailElement\"\n\t\t\t\t@createElement=\"createDetailElement\"\n\t\t\t/>\n\t\t</Popup>\n\t</div>\n</template>\n<script>\n\timport Detail from '@/components/tviews/Detail.vue'\n\timport detailFunctions from '@/mixins/detailFunctions.js';\n\texport default\n\t{\n\t\tprops: ['tableCode', 'name', 'id', 'visible', 'element'],\n\t\tcomponents: {Detail},\n\t\tmixins: [detailFunctions],\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tupdatedElAt: new Date(),\n\t\t\t};\n\t\t},\n\t\tcomputed:\n\t\t{\n\t\t\tisPopupVisible:\n\t\t\t{\n\t\t\t\tget()\n\t\t\t\t{\n\t\t\t\t\treturn this.visible\n\t\t\t\t},\n\t\t\t\tset(val)\n\t\t\t\t{\n\t\t\t\t\tthis.$emit('update:visible', val);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods:\n\t\t{\n\t\t\tcancel()\n\t\t\t{\n\t\t\t\tthis.isPopupVisible = false;\n\t\t\t},\n\t\t\topenDetail(data)\n\t\t\t{\n\t\t\t\tthis.$emit('openDetail', data);\n\t\t\t},\n\t\t\tasync saveDetailElement(data)\n\t\t\t{\n\t\t\t\tlet result = await this.saveElement(data);\n\t\t\t\tif(!result.data.success)\n\t\t\t\t\treturn this.ElMessage(result.data.message);\n\t\t\t\tthis.$emit('saveElement', ...[data, result]);\n\t\t\t\tthis.updatedElAt = new Date();\n\t\t\t},\n\t\t\tasync createDetailElement(data)\n\t\t\t{\n\t\t\t\tlet result = await this.createElement(data);\n\t\t\t\tif(!result.data.success)\n\t\t\t\t\treturn this.ElMessage(result.data.message);\n\n\t\t\t\tthis.$emit('createElement', ...[data, result]);\n\t\t\t},\n\t\t\tasync removeDetailElement(data)\n\t\t\t{\n\t\t\t\tlet result = await this.removeElement(data);\n\t\t\t\tif(!result.data.success)\n\t\t\t\t\treturn this.ElMessage(result.data.message);\n\t\t\t\tthis.$emit('removeElement', ...[data, result]);\n\t\t\t},\n\t\t},\n\t};\n</script>\n<style lang=\"scss\">\n\t.detail-popup\n\t{\n\t\tposition: absolute;\n\t\tz-index: 10;\n\t\t.popup-close{display: none;}\n\t\t.popup-block {min-width: 800px; }\n\t\t.detail\n\t\t{\n\t\t\tpadding:0;\n\t\t\tmax-height:calc(100% - 144px);\n\t\t\theight: auto;\n\t\t\toverflow: unset;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\t.detail-feilds\n\t\t\t{\n\t\t\t\tmargin-top: auto;\n\t\t\t\tmargin-bottom: auto;\n\t\t\t\theight: calc(100% + 85px);\n\t\t\t\toverflow: visible;\n\t\t\t}\n\t\t}\n\t\t.detail-head{padding-right: 0px; }\n\t}\n\t@media (max-width: 768px)\n\t{\n\t\t.detail-popup\n\t\t{\n\t\t\t.popup-block { min-width: unset; }\n\t\t\t.detail-head__burder { display: none; }\n\t\t\t.detail\n\t\t\t{\n\t\t\t\tflex-shrink: 0;\n\t\t\t\tflex-grow: 1;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailPopup.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailPopup.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DetailPopup.vue?vue&type=template&id=6ea3b72d\"\nimport script from \"./DetailPopup.vue?vue&type=script&lang=js\"\nexport * from \"./DetailPopup.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetailPopup.vue?vue&type=style&index=0&id=6ea3b72d&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailPopup.vue?vue&type=style&index=0&id=6ea3b72d&prod&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=style&index=0&id=0157e9f0&prod&lang=scss\"","import qs from 'qs';\nexport default\n{\n\tmethods:\n\t{\n\t\tasync saveElement(data)\n\t\t{\n\t\t\tlet result = await this.$store.dispatch('saveSelectedElement', data);\n\t\t\treturn result;\n\t\t},\n\t\tasync createElement(data)\n\t\t{\n\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(data.tableCode);\n\t\t\tlet setValues  = {};\n\t\t\tfor(let fieldCode in data.selectedElement)\n\t\t\t{\n\t\t\t\tif(primaryKeyCode == fieldCode) continue;\n\t\t\t\tsetValues[fieldCode] = data.selectedElement[fieldCode];\n\t\t\t}\n\n\t\t\tlet insertData = qs.stringify({\n\t\t\t\tinsert:\n\t\t\t\t{\n\t\t\t\t\ttable   :data.tableCode,\n\t\t\t\t\tvalues  :[setValues]\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet result = await this.$axios.post('/el/insert/',insertData);\n\t\t\treturn result;\n\t\t},\n\t\tasync removeElement(data)\n\t\t{\n\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(data.tableCode);\n\t\t\tlet result = await this.$store.dispatch('removeRecord', {\n\t\t\t\tdelete:\n\t\t\t\t{\n\t\t\t\t\ttable: data.tableCode,\n\t\t\t\t\twhere:\n\t\t\t\t\t{\n\t\t\t\t\t\toperation:'and',\n\t\t\t\t\t\tfields:[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcode      : primaryKeyCode,\n\t\t\t\t\t\t\t\toperation : 'IS',\n\t\t\t\t\t\t\t\tvalue     : data.selectedElement[primaryKeyCode],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t}\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"detail\"},[_c('ConfirmPopup',{attrs:{\"name\":\"confirmRemove\",\"buttons\":_vm.confirmDeleteButtons,\"message\":_vm.removeMessage},on:{\"confirm\":_vm.onConfirmRemove,\"cancel\":_vm.onCancelRemove}}),_c('div',{staticClass:\"detail-head\"},[_c('div',{staticClass:\"detail-head__burger\",class:{'hidden':_vm.isShowSidebar}},[_c('MobileBurger')],1),_c('div',{staticClass:\"detail-head-name\"},[_c('div',{staticClass:\"detail-icon-wrapper\"},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"13\"}},[_c('use',{attrs:{\"xlink:href\":\"#tableicon\"}})])]),(_vm.name != 'tableAddElement')?[_c('div',{staticClass:\"detail-name-wrapper\"},[_c('div',{staticClass:\"detail-head-label\"},[_vm._v(_vm._s(_vm.$t('pages.table.edit_element')))]),_c('div',{staticClass:\"detail-head-descr\"},[_vm._v(_vm._s(_vm.tableCode))])]),_c('div',{staticClass:\"detail-head__buttons\"},[_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.confirmRemove}},[_vm._v(_vm._s(_vm.$t('remove')))]),_c('button',{staticClass:\"el-btn\",on:{\"click\":_vm.saveElement}},[_vm._v(_vm._s(_vm.$t('save')))])])]:[_c('div',{staticClass:\"detail-name-wrapper\"},[_c('div',{staticClass:\"detail-head-label\"},[_vm._v(_vm._s(_vm.$t('pages.table.new_element')))]),_c('div',{staticClass:\"detail-head-descr\"},[_vm._v(_vm._s(_vm.tableCode))])]),_c('div',{staticClass:\"detail-head__buttons\"},[_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('button',{staticClass:\"el-btn\",on:{\"click\":_vm.createElement}},[_vm._v(_vm._s(_vm.$t('create')))])])]],2)]),_c('div',{staticClass:\"detail-feilds\"},_vm._l((_vm.selectedElement),function(column,columnCode){return _c('div',{key:`selItem${columnCode}`,staticClass:\"detail-feild\"},[_c('div',{staticClass:\"detail-field__name-wrap\"},[_c('img',{staticClass:\"detail-field__icon-image\",attrs:{\"src\":require(`@/assets${_vm.columnEmSettings(columnCode).type_info.iconPath}`)}}),_c('div',{staticClass:\"detail-field-name\"},[_c('span',[_vm._v(_vm._s(_vm.getColumnName(columnCode)))]),_c('small',[_vm._v(_vm._s(columnCode))])])]),_c('div',{staticClass:\"detail-field-box\"},[(_vm.columns[columnCode])?_c('MainField',{attrs:{\"mode\":\"edit\",\"view\":\"detail\",\"fieldName\":_vm.columns[columnCode].em.settings.code,\"params\":{\n\t\t\t\t\t\tvalue     : column,\n\t\t\t\t\t\tsettings  : _vm.$store.getters.getColumnSettings(_vm.tableCode, columnCode, _vm.selectedElement)\n\t\t\t\t\t}},on:{\"onChange\":_vm.changeFieldValue}}):_vm._e()],1)])}),0),_c('div',{staticClass:\"detail__buttons\"},[(_vm.name != 'tableAddElement')?[_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.confirmRemove}},[_vm._v(_vm._s(_vm.$t('remove')))]),_c('button',{staticClass:\"el-btn\",on:{\"click\":_vm.saveElement}},[_vm._v(_vm._s(_vm.$t('save')))])]:[_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('button',{staticClass:\"el-btn\",on:{\"click\":_vm.createElement}},[_vm._v(_vm._s(_vm.$t('create')))])]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"detail\">\n\t\t<ConfirmPopup\n\t\t\tname=\"confirmRemove\"\n\t\t\t:buttons=\"confirmDeleteButtons\"\n\t\t\t:message=\"removeMessage\"\n\t\t\t@confirm=\"onConfirmRemove\"\n\t\t\t@cancel=\"onCancelRemove\"\n\t\t/>\n\t\t<div class=\"detail-head\">\n\t\t\t<div class=\"detail-head__burger\" :class=\"{'hidden':isShowSidebar}\"><MobileBurger/></div>\n\t\t\t<div class=\"detail-head-name\">\n\t\t\t\t<div class=\"detail-icon-wrapper\">\n\t\t\t\t\t<svg width=\"14\" height=\"13\">\n\t\t\t\t\t\t<use xlink:href=\"#tableicon\"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<template v-if=\"name != 'tableAddElement'\">\n\t\t\t\t\t<div class=\"detail-name-wrapper\">\n\t\t\t\t\t\t<div class=\"detail-head-label\">{{$t('pages.table.edit_element')}}</div>\n\t\t\t\t\t\t<div class=\"detail-head-descr\">{{ tableCode }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"detail-head__buttons\">\n\t\t\t\t\t\t<button @click=\"cancel\" class=\"el-gbtn\">{{$t('cancel')}}</button>\n\t\t\t\t\t\t<button @click=\"confirmRemove\" class=\"el-gbtn\">{{$t('remove')}}</button>\n\t\t\t\t\t\t<button @click=\"saveElement\" class=\"el-btn\">{{$t('save')}}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<div class=\"detail-name-wrapper\">\n\t\t\t\t\t\t<div class=\"detail-head-label\">{{$t('pages.table.new_element')}}</div>\n\t\t\t\t\t\t<div class=\"detail-head-descr\">{{ tableCode }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"detail-head__buttons\">\n\t\t\t\t\t\t<button @click=\"cancel\" class=\"el-gbtn\">{{$t('cancel')}}</button>\n\t\t\t\t\t\t<button @click=\"createElement\" class=\"el-btn\">{{$t('create')}}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"detail-feilds\">\n\t\t\t<div\n\t\t\t\tclass=\"detail-feild\"\n\t\t\t\tv-for=\"(column,columnCode) in selectedElement\"\n\t\t\t\t:key=\"`selItem${columnCode}`\"\n\t\t\t>\n\t\t\t\t<div class=\"detail-field__name-wrap\">\n\t\t\t\t\t<img class=\"detail-field__icon-image\" :src=\"require(`@/assets${columnEmSettings(columnCode).type_info.iconPath}`)\">\n\t\t\t\t\t<div class=\"detail-field-name\">\n\t\t\t\t\t\t<span>{{ getColumnName(columnCode) }}</span>\n\t\t\t\t\t\t<small>{{ columnCode }}</small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"detail-field-box\">\n\t\t\t\t\t<MainField\n\t\t\t\t\t\tv-if=\"columns[columnCode]\"\n\t\t\t\t\t\tmode=\"edit\"\n\t\t\t\t\t\tview=\"detail\"\n\t\t\t\t\t\t:fieldName=\"columns[columnCode].em.settings.code\"\n\t\t\t\t\t\t:params=\"{\n\t\t\t\t\t\t\tvalue     : column,\n\t\t\t\t\t\t\tsettings  : $store.getters.getColumnSettings(tableCode, columnCode, selectedElement)\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t@onChange=\"changeFieldValue\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"detail__buttons\">\n\t\t\t<template v-if=\"name != 'tableAddElement'\">\n\t\t\t\t<button @click=\"cancel\" class=\"el-gbtn\">{{$t('cancel')}}</button>\n\t\t\t\t<button @click=\"confirmRemove\" class=\"el-gbtn\">{{$t('remove')}}</button>\n\t\t\t\t<button @click=\"saveElement\" class=\"el-btn\">{{$t('save')}}</button>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<button @click=\"cancel\" class=\"el-gbtn\">{{$t('cancel')}}</button>\n\t\t\t\t<button @click=\"createElement\" class=\"el-btn\">{{$t('create')}}</button>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>\n<script>\n\t// import ConfirmPopup from '@/components/popups/ConfirmPopup.vue';\n\timport MainField from '@/components/fields/MainField.vue';\n\timport qs from 'qs';\n\timport MobileBurger from '@/components/blocks/MobileBurger.vue';\n\timport { mapGetters } from 'vuex';\n\n\texport default\n\t{\n\t\tprops: ['tableCode', 'name', 'id', 'element', 'updatedElAt'],\n\t\tcomponents: {MainField, MobileBurger},\n\t\tcomputed:\n\t\t{\n\t\t\t...mapGetters([\n\t\t\t\t'isShowSidebar',\n\t\t\t]),\n\t\t},\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcolumns:{},\n\t\t\t\tselectedElement:{},\n\t\t\t\tfieldNames:{},\n\t\t\t\tremoveMessage: this.$t('popups.confirmDeletePopup.remove'),\n\t\t\t\tconfirmDeleteButtons: {\n\t\t\t\t\tconfirm: {\n\t\t\t\t\t\ttext: this.$t('popups.confirmDeletePopup.confirm_delete'),\n\t\t\t\t\t},\n\t\t\t\t\tcancel: {\n\t\t\t\t\t\ttext: this.$t('popups.confirmDeletePopup.cancel'),\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\twatch:\n\t\t{\n\t\t\tid(newId)\n\t\t\t{\n\t\t\t\tthis.selectedElement.id = newId;\n\t\t\t},\n\t\t\tupdatedElAt(val)\n\t\t\t{\n\t\t\t\tthis.selectElement();\n\t\t\t},\n\t\t},\n\t\tmounted()\n\t\t{\n\t\t\tthis.selectElement();\n\t\t\tthis.fieldNames = Object.assign(this.fieldNames, this.$store.getters.getTableFieldsNames(this.tableCode));\n\t\t},\n\t\tmethods:\n\t\t{\n\t\t\tasync selectElement()\n\t\t\t{\n\t\t\t\tlet requestParams = {\n\t\t\t\t\tselect : {},\n\t\t\t\t\twhere  : [],\n\t\t\t\t\torder  : [],\n\t\t\t\t};\n\t\t\t\trequestParams.select.from = this.tableCode;\n\t\t\t\tlet primaryKeyCode        = this.$store.getters.getPrimaryKeyCode(this.tableCode);\n\t\t\t\tthis.columns              = this.$store.getters.getColumns(this.tableCode);\n\t\t\t\tif(this.name != 'tableAddElement' && !this.element)\n\t\t\t\t{\n\t\t\t\t\trequestParams.select.where = {\n\t\t\t\t\t\toperation:'and',\n\t\t\t\t\t\tfields:[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcode      : primaryKeyCode,\n\t\t\t\t\t\t\t\toperation : 'IS',\n\t\t\t\t\t\t\t\tvalue     : this.id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t};\n\t\t\t\t\tawait this.$store.dispatch('selectElement',requestParams);\n\t\t\t\t\tthis.$set(this, 'selectedElement', this.$store.state.tables.selectedElement);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfor(let columnCode in this.columns)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$set(this.selectedElement, columnCode,'');\n\t\t\t\t\t\tthis.$set(this.selectedElement, columnCode, '');\n\t\t\t\t\t\tif (this.element && typeof this.element[columnCode] != 'undefined')\n\t\t\t\t\t\t\tthis.$set(this.selectedElement, columnCode, this.element[columnCode]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Триггер изменения значения филда\n\t\t\t * Переносим значение в наш стейт\n\t\t\t * @fieldValue {\n\t\t\t *     value,\n\t\t\t *     settings(основной формат)\n\t\t\t * }\n\t\t\t */\n\t\t\tchangeFieldValue(fieldValue)\n\t\t\t{\n\t\t\t\tthis.selectedElement[fieldValue.settings.fieldCode] = fieldValue.value;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Return em object of column\n\t\t\t */\n\t\t\tcolumnEmSettings(columnCode)\n\t\t\t{\n\t\t\t\tif(typeof this.columns[columnCode] != 'undefined')\n\t\t\t\t\treturn this.columns[columnCode].em;\n\t\t\t\tthrow new Error(`No column with code ${columnCode}`);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns column name or code\n\t\t\t */\n\t\t\tgetColumnName(columnCode)\n\t\t\t{\n\t\t\t\treturn this.columnEmSettings(columnCode).name || columnCode;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Сохранение элемента\n\t\t\t */\n\t\t\tsaveElement()\n\t\t\t{\n\t\t\t\tthis.$emit('saveElement', {\n\t\t\t\t\tselectedElement : this.selectedElement,\n\t\t\t\t\ttableCode       : this.tableCode,\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Создание элемента переход на страницу редактирования\n\t\t\t */\n\t\t\tcreateElement()\n\t\t\t{\n\t\t\t\tthis.$emit('createElement', {\n\t\t\t\t\tselectedElement : this.selectedElement,\n\t\t\t\t\ttableCode       : this.tableCode,\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Отмена редактирования\n\t\t\t */\n\t\t\tcancel()\n\t\t\t{\n\t\t\t\tthis.$emit('cancel');\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Удаление элемента\n\t\t\t */\n\n\t\t\tconfirmRemove()\n\t\t\t{\n\t\t\t\tthis.$modal.show('confirmRemove');\n\t\t\t},\n\n\t\t\tonConfirmRemove()\n\t\t\t{\n\t\t\t\tthis.remove();\n\t\t\t\tthis.$modal.hide('confirmRemove');\n\t\t\t},\n\n\t\t\tonCancelRemove()\n\t\t\t{\n\t\t\t\tthis.$modal.hide('confirmRemove');\n\t\t\t},\n\n\t\t\tremove()\n\t\t\t{\n\t\t\t\tthis.$emit('removeElement', {\n\t\t\t\t\tselectedElement : this.selectedElement,\n\t\t\t\t\ttableCode       : this.tableCode,\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t};\n</script>\n<style lang=\"scss\">\n\t.detail\n\t{\n\t\tpadding: 23px 0 0px 21px;\n\t\theight: 100%;\n\t}\n\t.detail-head\n\t{\n\t\tdisplay: flex;\n\t\tmargin-bottom: 28px;\n\t\tpadding-right: 95px;\n\t\talign-items: center;\n\t}\n\t.detail-head-name\n\t{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twidth:100%;\n\t}\n\t.detail-icon-wrapper\n\t{\n\t\tmargin-right: 3px;\n\t\tfont-weight: 500;\n\t\tline-height: normal;\n\t\tfont-size: 20px;\n\t\tcolor: #000000;\n\t}\n\t.detail-head-label\n\t{\n\t\tfont-family: $rBold;\n\t\tfont-size: 20px;\n\t\tcolor: #191C21;\n\t\tline-height: 22px;\n\t\ttext-transform: capitalize;\n\t}\n\t.detail-head-descr\n\t{\n\t\tcolor: rgba(103, 115, 135, 0.4);\n\t\tfont-size: 10px;\n\t\ttext-transform: lowercase;\n\t}\n\t.detail-name-wrapper{padding-left:7px; }\n\t.detail-feilds\n\t{\n\t\tborder-top: 1px solid rgba(103, 115, 135, 0.1);\n\t\toverflow: auto;\n\t\theight: calc(100vh - 85px);\n\t\tpadding-bottom: 150px;\n\t}\n\t.detail-feild\n\t{\n\t\tmin-height: 50px;\n\t\tdisplay: flex;\n\t\talign-items: flex-start;\n\t\tborder-bottom: 1px solid rgba(103, 115, 135, 0.1);\n\t}\n\t.detail-field__name-wrap\n\t{\n\t\tdisplay: flex;\n\t\tpadding-left: 21px;\n\t\theight: 50px;\n\t\talign-items: center;\n\t}\n\t.detail-field__icon-image{margin-right: 15px;width: 13px;}\n\t.detail-field-name\n\t{\n\t\twidth:140px;\n\t\tflex-shrink:0;\n\t\tspan\n\t\t{\n\t\t\tdisplay:block;\n\t\t\tfont-size: 12px;\n\t\t\tline-height: normal;\n\t\t\tcolor: #191C21;\n\t\t\ttext-transform: capitalize;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t\tsmall\n\t\t{\n\t\t\tdisplay:block;\n\t\t\tfont-size: 10px;\n\t\t\tline-height: normal;\n\t\t\tcolor: rgba(103, 115, 135, 0.4);\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t}\n\t.detail-field-box\n\t{\n\t\tposition: relative;\n\t\tmin-width: 400px;\n\t\tmin-height: 50px;\n\t\tborder-left: 1px solid rgba(103, 115, 135, 0.1);\n\t\tpadding-left: 14px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.em-string,\n\t\t.em-list,\n\t\t.em-node,\n\t\t.em-user,\n\t\t.em-file-item-col,\n\t\t.em-date-wr\n\t\t{\n\t\t\tmax-height: 40px;\n\t\t\tposition: relative;\n\t\t}\n\t\t.ql-editor\n\t\t{\n\t\t\tpadding: 0;\n\t\t}\n\t}\n\t.detail-head__buttons\n\t{\n\t\tflex-grow: 1;\n\t\ttext-align: right;\n\t\tbutton{\n\t\t\tmargin-left:10px;\n\t\t}\n\t}\n\t.detail__buttons { display: none; }\n\t.detail-head__burger\n\t{\n\t\tmargin-right: 20px;\n\t\t&.hidden{display: none;}\n\t}\n\t@media (max-width: 768px)\n\t{\n\t\t.detail { padding: 10px 0 0px 10px; }\n\t\t.detail-head\n\t\t{\n\t\t\tpadding-right: 14px;\n\t\t\tmin-width: 320px;\n\t\t}\n\t\t.detail-head-name { flex-wrap: wrap; }\n\t\t.detail-head__buttons { display: none; }\n\t\t.detail-name-wrapper { flex-basis: 90%; margin-bottom: 0; }\n\t\t.detail-icon-wrapper { flex-basis: 4%; margin-bottom: 0; }\n\t\t.detail-field-box { min-width: 150px; }\n\t\t.detail__buttons\n\t\t{\n\t\t\tposition: sticky;\n\t\t\tbottom: 0;\n\t\t\tbackground-color: #fff;\n\t\t\tdisplay: block;\n\t\t\tpadding: 10px 0;\n\t\t\tmargin-top: auto;\n\t\t\tbutton { margin-left: 10px; &:first-child { margin-left: 0; } }\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=3f6a777b\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=3f6a777b&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=3f6a777b&prod&lang=scss\""],"sourceRoot":""}